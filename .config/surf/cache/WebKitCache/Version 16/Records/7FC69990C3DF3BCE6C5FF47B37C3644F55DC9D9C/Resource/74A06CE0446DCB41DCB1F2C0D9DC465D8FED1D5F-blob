(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["Subreddit~SubredditWiki"],{"./src/chat/controls/Svg/index.m.less":function(e,t,s){e.exports={Component:"_2Qq40Mz_DMe0iARkTh8cZn",component:"_2Qq40Mz_DMe0iARkTh8cZn",disable:"_2xw21QiaL_ouF76MONf7hF",active:"_2dOhVJ6aPS9cbx0JfiKCW8",hover:"_1eWUKX11coBa2dErvWkP1q"}},"./src/chat/controls/Svg/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/lib/classNames/index.ts"),a=s("./src/lib/lessComponent.tsx"),o=s("./src/chat/controls/Svg/index.m.less"),d=s.n(o);t.a=a.a.wrapped(e=>{const t={height:e.height||void 0,width:e.width||void 0},{disable:s,active:n,hover:a}=e;return r.a.createElement("svg",{className:Object(i.a)(e.className,{[d.a.disable]:s,[d.a.active]:n,[d.a.hover]:!!a}),viewBox:e.viewBox,style:t},e.children)},"Component",d.a)},"./src/lib/unicodeUtils/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return r}));const n=e=>{let t=0,s=0;const n=[0];for(const r of e)t++,s+=r.length,n[t]=s;return n},r=e=>{let t=0,s=0;const n=[];for(const r of e){for(let e=0;e<r.length;e++)n[s]=t,s++;t++}return n[s]=t,n}},"./src/reddit/actions/subreddit/inlineEditing.ts":function(e,t,s){"use strict";s.d(t,"b",(function(){return f})),s.d(t,"a",(function(){return y}));var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./src/lib/makeActionCreator/index.ts"),i=s("./src/reddit/actions/structuredStyles/index.ts"),a=s("./src/reddit/actions/subreddit/constants.ts"),o=s("./src/reddit/actions/toaster.ts"),d=s("./src/reddit/constants/blade.ts"),c=s("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),l=s("./src/reddit/models/Image/index.tsx"),u=s("./src/reddit/models/Toast/index.ts"),m=s("./src/reddit/selectors/structuredStyles.ts"),p=s("./src/reddit/selectors/subreddit.ts"),b=s("./src/telemetry/index.ts");const h=Object(r.a)(a.u),x=Object(r.a)(a.v),g=Object(r.a)(a.t),f=(e,t,s)=>async(n,r,i)=>{const a=Object(p.A)(r(),{subredditName:e});if(a)return y(a,t,s)(n,r,i)},E=()=>n.fbt._("Error uploading image, please try again later",null,{hk:"7ZIYs"}),y=(e,t,s)=>async(r,a,p)=>{const f=await Object(l.e)(t);r(h());const y=a();try{await Object(i.g)("communityIcon",f,e.id)(r,a,p)}catch(C){return Object(b.a)(Object(c.c)(y,"something went wrong with the uploading the image")),r(Object(o.e)({kind:u.b.Error,text:E()})),void r(g())}const _=Object(m.c)(a(),{name:"communityIcon"});if(!_)return Object(b.a)(Object(c.c)(y,"image is null")),r(Object(o.e)({kind:u.b.Error,text:E()})),void r(g());await Object(i.k)(e.id,{communityIcon:_},d.b.idCard,s)(r,a,p),r(Object(o.e)({kind:u.b.SuccessCommunity,text:n.fbt._("Successfully updated Community Icon!",null,{hk:"29LGdg"})})),r(x())}},"./src/reddit/actions/urlRequested.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s("./src/lib/matchRoute/index.ts"),r=s("./src/lib/opener/index.ts"),i=s("./node_modules/react-router-redux/es/index.js");const a=(e,t=!0)=>async(s,a,{routes:o})=>{const d=a();Object(n.a)(e,o,d)?s(Object(i.b)(e)):t?Object(r.d)(e,"_blank"):window.location.assign(e)}},"./src/reddit/components/CommunityIdTopBar/index.m.less":function(e,t,s){e.exports={container:"_3JDs8KEQIXSMn1bTF2ZqJ_",subredditMetaContainer:"QscnL9OySMkHhGudEvEya",icon:"_2OMsln4_sqrfHjufgGCeio",SubredditIcon:"Mh_Wl6YioFfBc9O1SQ4Jp",subredditIcon:"Mh_Wl6YioFfBc9O1SQ4Jp",editableIcon:"_24UN_-gCO5bzA8_5-4ceCZ",emptyEditableIcon:"_2Or9OYtuMXbhgcWS_kdx0Q",Planet:"ixfotyd9YXZz0LNAtJ25N",planet:"ixfotyd9YXZz0LNAtJ25N",textContainer:"_3I4Wpl_rl6oTm02aWPZayD",text:"_3TG57N4WQtubLLo8SbAXVF",title:"_2yYPPW47QxD4lFQTKpfpLQ",description:"_33aRtz9JtW0dIrBNKFAl0y",subscribeButtonContainer:"_1Q_zPN5YtTLQVG72WhRuf3",startChattingButtonContainer:"gamImsFjuVPnHzfq-JdwT",subredditNavContainer:"_15Pk_bZ2XZNa9zBvnxq6HX"}},"./src/reddit/components/CommunityIdTopBar/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),o=s("./src/lib/classNames/index.ts"),d=s("./src/lib/CSSVariableProvider/withTheme.tsx"),c=s("./src/lib/lessComponent.tsx"),l=s("./src/reddit/components/DownToChatBanner/StartChattingButton/index.tsx"),u=s("./src/reddit/components/SubredditIcon/EditableSubredditIcon.tsx"),m=s("./src/reddit/components/SubredditNav/index.tsx"),p=s("./src/reddit/components/SubscribeButton/index.tsx"),b=s("./src/reddit/constants/postLayout.ts"),h=s("./src/reddit/constants/posts.ts"),x=s("./src/reddit/featureFlags/index.ts"),g=s("./src/reddit/helpers/getSubredditIcon/index.ts"),f=s("./src/reddit/constants/tracking.ts"),E=s("./src/reddit/selectors/telemetry.ts");var y=s("./src/reddit/icons/svgs/CircledPlanet/index.tsx"),_=s("./src/reddit/selectors/inlineSubredditEditing.ts"),C=s("./src/reddit/selectors/widgets.ts"),O=s("./src/reddit/components/CommunityIdTopBar/index.m.less"),v=s.n(O);const k=c.a.wrapped(y.a,"Planet",v.a),j=c.a.img("SubredditIcon",v.a),S=Object(a.c)({spPollsEnabled:x.d.spPolls,subredditInlineEditingEnabled:(e,{subredditId:t})=>Object(_.a)(e,{subredditId:t}),widget:C.f});t.a=Object(i.b)(S)(Object(d.a)(e=>{const t=e.subreddit?e.subreddit.id:e.subredditId,s=e.subreddit?e.subreddit.name:e.subredditName,n=e.subreddit?e.subreddit.url:e.subredditUrl,i=e.subreddit?e.subreddit.title:"",a=e.subreddit&&Object(g.a)(e),d=!(!e.theme||!a),c=s.charAt(0).toUpperCase()+s.slice(1),x=!!e.subreddit&&e.subredditInlineEditingEnabled,y=Object(o.a)(v.a.SubredditIcon,v.a.editableIcon,{[v.a.emptyEditableIcon]:!a}),_=r.a.createElement(u.a,{className:y,subreddit:e.subreddit,iconUrl:a||void 0,inTopBar:!0}),C=d?r.a.createElement(j,{src:a||void 0}):r.a.createElement(k,null),O=e.spPollsEnabled||e.widget&&(e.widget.showWiki||e.widget.data.length>0),S=e.layout?e.layout===b.g.Large?"984px":"100%":"1086px";return r.a.createElement("div",{className:v.a.container,style:{maxWidth:S}},r.a.createElement("div",{className:v.a.subredditMetaContainer},x?_:C,r.a.createElement("div",{className:Object(o.a)(v.a.textContainer,{[v.a.textContainerNoIcon]:!d})},r.a.createElement("div",{className:v.a.text},r.a.createElement("h1",{className:v.a.title},i||c),!!i&&r.a.createElement("h2",{className:v.a.description},"r/",s)),r.a.createElement("div",{className:v.a.subscribeButtonContainer},r.a.createElement(p.a,{className:v.a.subscribeButton,getEventFactory:e=>{return(e=>t=>({...E.defaults(t),source:"id_banner",action:f.c.CLICK,noun:e,subreddit:E.subreddit(t)}))(e?"unsubscribe":"subscribe")},identifier:{name:s,type:h.a.SUBREDDIT},small:!0})),e.subreddit&&r.a.createElement(l.a,{subreddit:e.subreddit,headerButton:!0}))),O&&r.a.createElement(m.a,{disableFullscreen:!0,isTopBannerVariant:!0,homeUrl:n,subredditId:t,subredditNavContainerClassName:v.a.subredditNavContainer}))}))},"./src/reddit/components/ContentGate/index.m.less":function(e,t,s){e.exports={ButtonsContainer:"_3-bzOoWOXVn2xJ3cljz9oC",buttonsContainer:"_3-bzOoWOXVn2xJ3cljz9oC",Container:"_32zGs4bO3IunZfS9bSJY0_",container:"_32zGs4bO3IunZfS9bSJY0_",Description:"_3VTI5BOpJO70xoBKSqz3O9",description:"_3VTI5BOpJO70xoBKSqz3O9",PrivateSubredditDetails:"vpktIvfG7wrc27Xk4Gk-C",privateSubredditDetails:"vpktIvfG7wrc27Xk4Gk-C",PrivateSubredditDescription:"_2uXliuchCWW0MYUGS_Ks6v",privateSubredditDescription:"_2uXliuchCWW0MYUGS_Ks6v",PrivateSubredditName:"_3boUKJ5E--k1_9nH886_Wr",privateSubredditName:"_3boUKJ5E--k1_9nH886_Wr",Link:"o4oSRcSrppMzf__hxJKxn",link:"o4oSRcSrppMzf__hxJKxn",LinkButton:"_1_UhYZsTnAQbBONlhaTTMS",linkButton:"_1_UhYZsTnAQbBONlhaTTMS",LinkRouterButton:"_2zJbrt0pYl6tbRsmVW0peX",linkRouterButton:"_2zJbrt0pYl6tbRsmVW0peX",SecondaryLinkRouterButton:"rDOqrXOt4-jCKENSEQG_N",secondaryLinkRouterButton:"rDOqrXOt4-jCKENSEQG_N",SecondaryLinkButton:"i2sTp1duDdXdwoKi1l8ED",secondaryLinkButton:"i2sTp1duDdXdwoKi1l8ED",GoHomeLinkButton:"_3goHjUTM8-J0xINP6EoZkZ",goHomeLinkButton:"_3goHjUTM8-J0xINP6EoZkZ",PrivateKey:"kwHMAzQCDA69TaL3eHZLa",privateKey:"kwHMAzQCDA69TaL3eHZLa",Image:"_1jefpljVGT-eHObg40F8Dm",image:"_1jefpljVGT-eHObg40F8Dm",ImagePlaceholder:"yIkP2FaSTqFA_kLFyyH1d",imagePlaceholder:"yIkP2FaSTqFA_kLFyyH1d",LeftLinkButton:"_3cs2bzZ9PGS1kcZc2r7vdP",leftLinkButton:"_3cs2bzZ9PGS1kcZc2r7vdP",LeftLinkRouterButton:"_2V3wnL5o-KBHbU_hs7cMof",leftLinkRouterButton:"_2V3wnL5o-KBHbU_hs7cMof",SecondaryLeftLinkButton:"_3t2KyZopmra_0R16z-1xwr",secondaryLeftLinkButton:"_3t2KyZopmra_0R16z-1xwr",SecondaryLeftLinkRouterButton:"y7s2WWxfdEzMhMm2mjo-G",secondaryLeftLinkRouterButton:"y7s2WWxfdEzMhMm2mjo-G",Title:"_2XKLlvmuqdor3RvVbYZfgz",title:"_2XKLlvmuqdor3RvVbYZfgz",PageBody:"bDDEX4BSkswHAG_45VkFB",pageBody:"bDDEX4BSkswHAG_45VkFB",QuarantineMessageWrapper:"_3wi4h3DGgmtUEzxlHDUM0n",quarantineMessageWrapper:"_3wi4h3DGgmtUEzxlHDUM0n"}},"./src/reddit/components/ContentGate/index.tsx":function(e,t,s){"use strict";s.r(t);var n=s("./src/config.ts"),r=s("./node_modules/react/index.js"),i=s.n(r),a=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/react-router/esm/react-router.js"),d=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/lessComponent.tsx"),l=s("./src/lib/loginHref/index.ts"),u=s("./src/reddit/actions/contentGate.ts"),m=s("./src/reddit/actions/preferences.ts"),p=s("./src/reddit/components/CreateCommunityButton/index.tsx"),b=s("./src/reddit/components/Footer/index.m.less"),h=s.n(b);const{fbt:x}=s("./node_modules/fbt/lib/FbtPublic.js"),g=c.a.div("FooterContainer",h.a),f=c.a.div("UserAgreement",h.a),E=c.a.a("UserAgreementLink",h.a),y=c.a.a("PrivacyLink",h.a);var _=()=>i.a.createElement(g,null,i.a.createElement(f,null,x._("Use of this site constitutes acceptance of our {=User Agreement} and {=Privacy Policy} . ©{year} reddit inc. All rights reserved. REDDIT and the ALIEN Logo are registered trademarks of reddit inc.",[x._param("=User Agreement",i.a.createElement(E,{href:`${n.a.redditUrl}/help/useragreement`},x._("User Agreement",null,{hk:"2srkM2"}))),x._param("=Privacy Policy",i.a.createElement(y,{href:`${n.a.redditUrl}/help/privacypolicy`},x._("Privacy Policy",null,{hk:"2nBcYA"}))),x._param("year",(new Date).getFullYear())],{hk:"335pdO"}))),C=s("./src/reddit/components/RawHTMLDisplay/index.tsx"),O=s("./src/reddit/components/RichTextJson/index.tsx"),v=s("./node_modules/lodash/flatMap.js"),k=s.n(v),j=s("./src/lib/linkMatchers/index.ts"),S=s("./src/lib/linkMatchers/customLinks.ts"),w=s("./src/reddit/controls/OutboundLink/index.tsx");const T=/\[(.+?)\]\((.+?)\)/g,P=e=>{const t=e.split(T);if(1===t.length)return[e];const s=[];for(let n=0;n<t.length;n+=3){const[e,r,i]=t.slice(n,n+3);s.push(e),s.push([i,r])}return s};var I=i.a.memo(e=>{let t=[e.text];return e.parseMdLinks&&(t=k()(t,P)),e.parseRegularLinks&&(t=k()(t,e=>Array.isArray(e)?[e]:(e=>{const t=j.e.add(S.g.subreddit.prefix,S.g.subreddit.config).match(e);if(!t)return[e];const s=[];let n=null;for(const r of t)s.push(e.slice(n?n.lastIndex:0,r.index)),n=r,s.push([r.url,r.text]);return n&&s.push(e.slice(n.lastIndex)),s})(e))),i.a.createElement(i.a.Fragment,null," ",t.map((t,s)=>{if(Array.isArray(t)){const[n,r]=t;return i.a.createElement(w.b,{className:e.linkClassName,href:n,isSponsored:!1,key:s,source:null},r)}return i.a.createElement("span",{key:s},t)})," ")}),N=s("./src/reddit/contexts/PageLayer/index.tsx"),L=s("./src/reddit/controls/Button/index.tsx"),B=s("./src/chat/controls/Svg/index.tsx");function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}var F=e=>i.a.createElement(B.a,M({},e,{viewBox:"-1 -1 21 21"}),i.a.createElement("path",{d:"M16.64,2.32a4.5,4.5,0,0,0-7,5.57L4.85,12.69,3.59,13.95h0L2.34,15.2a1,1,0,0,0,0,1.41l1.25,1.25h0l.42.42a1,1,0,0,0,1.41-1.41L5,16.46H5a.78.78,0,0,1,0-1.09.79.79,0,0,1,1.09,0h0l.42.42a1,1,0,0,0,1.41-1.41L7.52,14h0L7,13.4l4.1-4.1a4.5,4.5,0,0,0,5.57-7Zm-1.41,5a2.5,2.5,0,1,1,0-3.54A2.5,2.5,0,0,1,15.22,7.27Z"})),D=s("./src/reddit/models/ContentGate.ts"),R=s("./src/reddit/selectors/meta.ts"),A=s("./src/reddit/selectors/user.ts"),U=s("./src/reddit/components/ContentGate/index.m.less"),H=s.n(U);const{fbt:W}=s("./node_modules/fbt/lib/FbtPublic.js"),V=c.a.wrapped(F,"PrivateKey",H.a),J=c.a.div("ButtonsContainer",H.a),K=c.a.div("Container",H.a),q=c.a.div("Description",H.a),Y=c.a.div("PrivateSubredditDetails",H.a),G=c.a.div("PrivateSubredditDescription",H.a),z=c.a.h3("PrivateSubredditName",H.a),Q=c.a.a("Link",H.a),X=c.a.wrapped(L.k,"LinkRouterButton",H.a),Z=c.a.wrapped(L.j,"LinkButton",H.a),$=c.a.wrapped(L.n,"SecondaryLinkRouterButton",H.a),ee=c.a.wrapped(L.m,"SecondaryLinkButton",H.a),te=c.a.wrapped(X,"GoHomeLinkButton",H.a),se=c.a.img("Image",H.a),ne=c.a.img("ImagePlaceholder",H.a),re=c.a.wrapped(X,"LeftLinkRouterButton",H.a),ie=c.a.wrapped(Z,"LeftLinkButton",H.a),ae=c.a.wrapped(ee,"SecondaryLeftLinkButton",H.a),oe=c.a.wrapped($,"SecondaryLeftLinkRouterButton",H.a),de=c.a.h3("Title",H.a),ce=c.a.div("PageBody",H.a),le=c.a.div("QuarantineMessageWrapper",H.a),ue=Object(d.c)({isLoggedIn:A.I,origin:R.l,user:A.i}),me=Object(N.t)(),pe=Object(a.b)(ue,(e,{subredditName:t})=>({continueToQuarantinedSubreddit:async()=>{await e(m.C(t)),window.location.reload()},setNSFWPreference:async()=>{await e(Object(u.l)())}})),be=e=>{const{banMessage:t,contentGateType:s,continueToQuarantinedSubreddit:r,isLoggedIn:a,location:o,origin:d,pageLayer:c,quarantineRequiresEmail:m,quarantineMessage:b,quarantineMessageHtml:h,quarantineMessageRTJson:x,setNSFWPreference:g,subredditDescription:f,subredditName:E,user:y}=e,_=async()=>{a?await g():await Object(u.k)(),window.location.reload()};switch(s){case D.a.GoldSubreddit:return i.a.createElement("div",null,i.a.createElement(se,{src:`${n.a.assetPath}/img/gold/premium-crest.png`}),i.a.createElement(de,null,W._("r/{community name} is a Reddit Premium community",[W._param("community name",E)],{hk:"2lyDwB"})),i.a.createElement(q,null,W._("The moderators in this community have set it to Reddit Premium members only. You must upgrade to a Reddit Premium membership to continue.",null,{hk:"mIiOw"})),i.a.createElement(J,null,y?i.a.createElement(ae,{href:`${n.a.redditUrl}/premium`},W._("Get Premium",null,{hk:"3ChWi4"})):i.a.createElement(ie,{href:Object(l.a)(o,d)},W._("Sign Up",null,{hk:"rvpjy"})),y?i.a.createElement(X,{to:"/"},W._("Go Home",null,{hk:"49p4or"})):i.a.createElement(ee,{href:Object(l.a)(o,d)},W._("Log In",null,{hk:"4Cxw0g"}))));case D.a.Nsfw:case D.a.NsfwCustomFeed:return i.a.createElement("div",null,i.a.createElement(se,{src:`${n.a.assetPath}/img/content-gate-icons/nsfw.png`}),i.a.createElement(de,null,s===D.a.Nsfw?W._("You must be 18+ to view this community",null,{hk:"IQmEA"}):W._("You must be 18+ to view this Custom Feed",null,{hk:"3pmHS2"})),i.a.createElement(q,null,W._("You must be at least eighteen years old to view this content. Are you over eighteen and willing to see adult content?",null,{hk:"gI12S"})),i.a.createElement(J,null,i.a.createElement(re,{to:"/"},W._("No",null,{hk:"3fMglW"})),i.a.createElement(ee,{onClick:_},W._("Yes",null,{hk:"2hpRkN"}))));case D.a.PrivateSubreddit:return i.a.createElement("div",null,i.a.createElement(V,null),i.a.createElement(de,null,"r/",E," ",W._("is a private community",null,{hk:"7zZmq"})),f&&f.length&&i.a.createElement(Y,null,i.a.createElement(z,null,"r/",E),i.a.createElement(G,null,i.a.createElement("div",null,f))),i.a.createElement(q,null,W._("The moderators of",null,{hk:"3QSrbr"})," ","r/",E," ",W._("have set this community as private.",null,{hk:"3zhD9F"}),i.a.createElement("br",null),W._("Only approved members can view and take part in its discussions.",null,{hk:"af0uR"})),i.a.createElement(J,null,y?i.a.createElement(ae,{href:`${n.a.redditUrl}/message/compose?to=/r/${E}`},W._("Message Mods",null,{hk:"vVe1i"})):i.a.createElement(ae,{href:Object(l.a)(o,d)},W._("Sign Up",null,{hk:"rvpjy"})),i.a.createElement(X,{to:"/"},W._("Browse Reddit",null,{hk:"1fi8kh"}))));case D.a.QuarantinedSubreddit:return i.a.createElement("div",null,i.a.createElement(se,{src:`${n.a.assetPath}/img/content-gate-icons/quarantined.png`}),i.a.createElement(de,null,W._("Are you sure you want to view this community?",null,{hk:"2BtxLM"})),i.a.createElement(q,null,W._("This community is {=quarantined}",[W._param("=quarantined",i.a.createElement(Q,{href:"https://www.reddithelp.com/en/categories/reddit-101/rules-reporting/account-and-community-restrictions/quarantined-subreddits"},W._("quarantined",null,{hk:"2XqfJa"})))],{hk:"2B9i8y"}),i.a.createElement(le,null,x?i.a.createElement(O.a,{content:x,rtJsonElementProps:{pageLayer:c}}):h?i.a.createElement(C.a,{html:h}):b||W._("Quarantined communities are dedicated to shocking or highly offensive content. You must be logged in with a verified email to continue.",null,{hk:"3kRIzE"})),W._("Are you certain you want to continue?",null,{hk:"1gr5Bw"})),i.a.createElement(J,null,((e,t,s)=>{return!(e&&e.hasVerifiedEmail)&&s?i.a.createElement(J,null,i.a.createElement(oe,{to:"/"},W._("No Thank You",null,{hk:"4B26AR"})),i.a.createElement(Z,{href:`${n.a.redditUrl}/prefs/update`},W._("Verify Email",null,{hk:"1893cq"}))):i.a.createElement(J,null,i.a.createElement(re,{to:"/"},W._("No Thank You",null,{hk:"4B26AR"})),i.a.createElement(ee,{onClick:t},W._("Continue",null,{hk:"4nU0mS"})))})(y,r,m)));case D.a.SubredditBanned:return i.a.createElement("div",null,i.a.createElement(se,{src:`${n.a.assetPath}/img/content-gate-icons/banned.png`}),i.a.createElement(de,null,W._("r/{community name} has been banned from Reddit",[W._param("community name",E)],{hk:"2at9Se"})),(e=>i.a.createElement(q,null,e?i.a.createElement(I,{linkClassName:H.a.Link,text:e,parseMdLinks:!0,parseRegularLinks:!0}):W._("This community has been banned for violating the Reddit rules.",null,{hk:"3iUVxA"})))(t),i.a.createElement(J,null,i.a.createElement(X,{to:"/"},W._("Explore Reddit",null,{hk:"FrUWU"}))));case D.a.SubredditBlockedForLegalReason:return i.a.createElement("div",null,i.a.createElement(se,{src:`${n.a.assetPath}/img/snoomoji/snoo_thoughtful.png`}),i.a.createElement(de,null,W._("This content has been restricted in your country in response to a legal request.",null,{hk:"4bCnhl"})),i.a.createElement(J,null,i.a.createElement(X,{to:"/"},W._("Explore Reddit",null,{hk:"FrUWU"}))));case D.a.SubredditDoesNotExist:return i.a.createElement("div",null,i.a.createElement(ne,null),i.a.createElement(de,null,W._("Sorry, there aren’t any communities on Reddit with that name.",null,{hk:"31DRpe"})),i.a.createElement(q,null,W._("This community may have been banned or the community name is incorrect.",null,{hk:"1lYMG2"})),i.a.createElement(J,null,y&&i.a.createElement(p.a,{eventSource:"content_gate"}),i.a.createElement(te,{to:"/"},W._("Go Home",null,{hk:"49p4or"}))));case D.a.ProfileDoesNotExist:case D.a.ProfileDeleted:case D.a.ProfileSuspended:case D.a.ProfileBlockedForLegalReason:return i.a.createElement("div",null,i.a.createElement(se,{src:`${n.a.assetPath}/img/snoomoji/snoo_thoughtful.png`}),i.a.createElement(de,null,(e=>{const{contentGateType:t}=e;switch(t){case D.a.ProfileBlockedForLegalReason:return W._("This content has been restricted in your country in response to a legal request.",null,{hk:"4eeylO"});case D.a.ProfileDeleted:return W._("This user has deleted their account.",null,{hk:"2IAF6m"});case D.a.ProfileSuspended:return i.a.createElement(i.a.Fragment,null,W._("This account has been {=suspended} .",[W._param("=suspended",i.a.createElement(Q,{href:"https://www.reddithelp.com/en/categories/reddit-101/rules-reporting/account-and-community-restrictions/suspensions"},W._("suspended",null,{hk:"3nHGgi"})))],{hk:"4cuTBS"}));case D.a.ProfileDoesNotExist:return i.a.createElement(i.a.Fragment,null,i.a.createElement(de,null,W._("Sorry, nobody on Reddit goes by that name.",null,{hk:"3i02av"})),i.a.createElement(q,null,W._("The person may have been banned or the username is incorrect.",null,{hk:"36ab4J"})))}})(e)),i.a.createElement(J,null,i.a.createElement(te,{to:"/"},W._("Go Home",null,{hk:"49p4or"}))));case D.a.CustomFeedDoesNotExist:return i.a.createElement("div",null,i.a.createElement(se,{src:`${n.a.assetPath}/img/snoomoji/snoo_thoughtful.png`}),i.a.createElement(de,null,W._("Sorry, this custom feed is private or does not exist.",null,{hk:"2Ml4j9"})),i.a.createElement(J,null,i.a.createElement(te,{to:"/"},W._("Go Home",null,{hk:"49p4or"}))));case D.a.PostBlockedForLegalReason:return i.a.createElement("div",null,i.a.createElement(se,{src:`${n.a.assetPath}/img/snoomoji/snoo_thoughtful.png`}),i.a.createElement(de,null,W._("This content has been restricted in your country in response to a legal request.",null,{hk:"1q1rVU"})),i.a.createElement(J,null,i.a.createElement(X,{to:"/"},W._("Browse Reddit",null,{hk:"1XnYmj"}))))}};t.default=me(pe(Object(o.i)(e=>i.a.createElement(K,null,i.a.createElement("div",null,i.a.createElement(ce,null,be(e))),i.a.createElement(_,null)))))},"./src/reddit/components/CreateCommunityButton/index.m.less":function(e,t,s){e.exports={StyledTooltip:"FIYolDqalszTnjjNfThfT",styledTooltip:"FIYolDqalszTnjjNfThfT"}},"./src/reddit/components/CreateCommunityButton/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),i=s.n(r),a=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/reselect/es/index.js"),d=s("./src/reddit/actions/tooltip.ts"),c=s("./src/reddit/components/InfoTextTooltip/index.tsx"),l=s("./src/reddit/components/TrackingHelper/index.tsx"),u=s("./src/reddit/controls/Button/index.tsx"),m=s("./src/reddit/helpers/overlay/index.ts"),p=s("./src/reddit/helpers/trackers/subredditCreation.ts"),b=s("./src/reddit/selectors/user.ts"),h=s("./src/reddit/components/CreateCommunityButton/index.m.less"),x=s.n(h),g=s("./src/lib/lessComponent.tsx");const f="create-community-button",E=g.a.wrapped(c.c,"StyledTooltip",x.a),y=Object(o.c)({userDoesNotHaveEnoughExpToCreateCommunity:e=>!Object(b.fb)(e),userIsSuspended:b.O});t.a=Object(a.b)(y,(e,{eventSource:t})=>({openCommunityCreation:s=>{s(Object(p.b)(t)),e(Object(m.a)("/subreddits/create"))},onShowTooltip:()=>e(Object(d.f)({tooltipId:f})),onHideTooltip:()=>e(Object(d.i)())}))(Object(l.c)(({className:e,eventSource:t,onShowTooltip:s,onHideTooltip:r,openCommunityCreation:a,sendEvent:o,userDoesNotHaveEnoughExpToCreateCommunity:d,userIsSuspended:c})=>i.a.createElement(u.l,{className:e,disabled:c||d,onClick:()=>a(o),onMouseEnter:s,onMouseLeave:r,id:f,isFullWidth:!0},n.fbt._("Create Community",null,{hk:"RLA8A"}),d?i.a.createElement(E,{caretOnTop:!0,tooltipId:f,text:n.fbt._("To prevent spam, accounts must be at least 30 days old and have enough positive karma to create communities.",null,{hk:"2R1OXu"})}):c?i.a.createElement(E,{caretOnTop:!0,tooltipId:f,text:n.fbt._("Accounts banned from the site can not create communities until the ban is lifted.",null,{hk:"2xBDEw"})}):null)))},"./src/reddit/components/DownToChatBanner/StartChattingButton/index.m.less":function(e,t,s){e.exports={Button:"_23HWOAAvtr9XUARUICwS1l",button:"_23HWOAAvtr9XUARUICwS1l",ChatIcon:"_2NhuccS8V_QQHeSCQ9CI5H",chatIcon:"_2NhuccS8V_QQHeSCQ9CI5H",headerButton:"VjmtSca9g92ay_XMP6rCV",buttonCaption:"_3iAPYhncpDFRVQFe9wprJs",button2020:"r3XKG_J-drDr2MfDhoOXH"}},"./src/reddit/components/DownToChatBanner/StartChattingButton/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),o=s("./src/lib/classNames/index.ts"),d=s("./src/reddit/actions/downToChat.ts"),c=s("./src/reddit/components/TrackingHelper/index.tsx"),l=s("./src/reddit/controls/Button/index.tsx"),u=s("./src/reddit/hooks/useCoreStyleExperiments.ts"),m=s("./src/reddit/icons/svgs/Chat/index.tsx"),p=s("./src/reddit/selectors/downToChat.ts"),b=s("./src/reddit/selectors/experiments/downToChat.ts"),h=s("./src/reddit/components/DownToChatBanner/StartChattingButton/index.m.less"),x=s.n(h);const{fbt:g}=s("./node_modules/fbt/lib/FbtPublic.js"),f=Object(a.c)({isDownToChatExperimentEnabled:b.a,isEnabled:(e,{subreddit:t})=>Object(p.c)(e,t.id)}),E=Object(i.b)(f,e=>({startChatting:t=>e(Object(d.i)(t))}));t.a=E(Object(c.c)(e=>{const t=Object(u.a)(),s=()=>{const{startChatting:t,subreddit:s}=e;t(s.id)},{headerButton:n,isEnabled:i,isDownToChatExperimentEnabled:a}=e;if(!i||!a)return null;const d=g._("Start Chatting",null,{hk:"3KfdZ4"});return t?r.a.createElement(l.q,{className:x.a.button2020,text:d,Icon:n?m.a:void 0,onClick:s,redditStyle:!0}):r.a.createElement(l.i,{className:Object(o.a)(x.a.button,n?x.a.headerButton:""),redditStyle:!0,onClick:s},n&&r.a.createElement(m.a,{className:Object(o.a)(x.a.chatIcon)}),r.a.createElement("span",{className:Object(o.a)(x.a.buttonCaption)},d))}))},"./src/reddit/components/Econ/PredictionLeaderboard/Sidebar/async.ts":function(e,t,s){"use strict";var n=s("./node_modules/@loadable/component/dist/loadable.esm.js");t.a=Object(n.a)({resolved:{},chunkName:()=>"reddit-components-Econ-PredictionLeaderboard-Sidebar",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!s.m[t]},importAsync:()=>s.e("reddit-components-Econ-PredictionLeaderboard-Sidebar").then(s.bind(null,"./src/reddit/components/Econ/PredictionLeaderboard/Sidebar/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(){return"./src/reddit/components/Econ/PredictionLeaderboard/Sidebar/index.tsx"}})},"./src/reddit/components/Footer/index.m.less":function(e,t,s){e.exports={FooterContainer:"_3qDK09Tb3ktpZiYXSfeMzE",footerContainer:"_3qDK09Tb3ktpZiYXSfeMzE",UserAgreement:"_2qv_r3Tr8ZqOWkU9s1qRfw",userAgreement:"_2qv_r3Tr8ZqOWkU9s1qRfw",PrivacyLink:"_2mk2nvnRu7inPdJY2i-H79",privacyLink:"_2mk2nvnRu7inPdJY2i-H79",UserAgreementLink:"vzd9DQ5W5uhRFvqy1_xKh",userAgreementLink:"vzd9DQ5W5uhRFvqy1_xKh"}},"./src/reddit/components/IdCard/Banner.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/reddit/components/IdCard/index.m.less"),a=s.n(i);const o=r.a.memo(e=>{const{bannerBackgroundImage:t}=e;return r.a.createElement("div",{className:a.a.Banner,style:t&&t.length?{backgroundImage:`url(${t})`}:void 0})})},"./src/reddit/components/IdCard/helpers.ts":function(e,t,s){"use strict";s.d(t,"e",(function(){return o})),s.d(t,"c",(function(){return d})),s.d(t,"d",(function(){return c})),s.d(t,"b",(function(){return l})),s.d(t,"a",(function(){return u}));var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./src/config.ts"),i=s("./src/reddit/constants/listings.ts"),a=s("./src/reddit/constants/page.ts");const o=e=>e&&e.toLowerCase()===i.b.Popular,d=e=>e&&e.toLowerCase()===i.b.All,c=e=>e&&e===a.b,l=(e,t=40,s=68)=>({height:s,image:e,width:t}),u=({listingName:e,subreddit:t,idCardWidget:s})=>{let a,u,m,p,b;const h=s&&s.subscribersText||n.fbt._("Members",null,{hk:"1dldMb"}),x=s&&s.currentlyViewingText||n.fbt._("Online",null,{hk:"36JX70"});let g,f;return c(e)?(a=`${r.a.assetPath}/img/id-cards/home-banner@2x.png`,m=l(`url('${r.a.assetPath}/img/id-cards/snoo-home@2x.png')`),b=i.c[i.b.Home],u=n.fbt._("Your personal Reddit frontpage. Come here to check in with your favorite communities.",null,{hk:"2MHNRd"}),p=n.fbt._("Home",null,{hk:"9xVXB"})):d(e)?(a=`${r.a.assetPath}/img/id-cards/banner@2x.png`,u=n.fbt._("The most active posts from all of Reddit. Come here to see new posts rising and be a part of the conversation.",null,{hk:"1JjI5"}),m=l(`url('${r.a.assetPath}/img/id-cards/snoo-home@2x.png')`),p="r/all",b=i.c[i.b.All]):o(e)?(a=`${r.a.assetPath}/img/id-cards/banner@2x.png`,u=n.fbt._("The best posts on Reddit for you, pulled from the most active communities on Reddit. Check here to see the most shared, upvoted, and commented content on the internet.",null,{hk:"4dykC2"}),m=l(`url('${r.a.assetPath}/img/id-cards/snoo-home@2x.png')`),p="r/popular",b=i.c[i.b.Popular]):e&&(u=s&&s.description,m=l(""),p=t.displayText,b=t.url,f=s&&s.subscribersCount,g=s&&s.currentlyViewingCount),{snooBackground:m,description:u,titleText:p,url:b,subscribersCount:f,subscribersText:h,currentlyViewingText:x,currentlyViewingCount:g,...a?{bannerBackgroundImage:a}:{}}}},"./src/reddit/components/IdCard/index.m.less":function(e,t,s){e.exports={categoryContainer:"_2cn386lOe1A_DTmBUA-qSM",icon:"_2XJvPvYIEYtcS4ORsDXwa3",subredditIcon:"_2Vkdik1Q8k0lBEhhA_lRKE",largeSubredditIcon:"eGjjbHtkgFc-SYka3LM3M",metaTextContainer:"j9k2MUR13FjoBBeLo1C1m",metaText:"_3Evl5aOozId3QVjs7iry2c",memberIcon:"_1qhTBEK-QmJbvMP4ckhAbh",headerButtonsContainer:"_3nzVPnRRnrls4DOXO_I0fn",overflowButton:"_1LAmcxBaaqShJsi8RNT-Vp",communityCoinCount:"_2bWoGvMqVhMWwhp4Pgt4LP",coinIcon:"tWeTbHFf02PguTEonwJD0",coinsTooltipContent:"_2AbGMsrZJPHrLm9e-oyW1E",helpIcon:"_1cB7-TWJtfCxXAqqeyVb2q",Banner:"hpxKmfWP2ZiwdKaWpefMn",banner:"hpxKmfWP2ZiwdKaWpefMn",Title:"_20Kb6TX_CdnePoT8iEsls6",title:"_20Kb6TX_CdnePoT8iEsls6",TitleShifted:"t9oUK2WY0d28lhLAh3N5q",titleShifted:"t9oUK2WY0d28lhLAh3N5q",AdorableSnoo:"_2KqgQ5WzoQRJqjjoznu22o",adorableSnoo:"_2KqgQ5WzoQRJqjjoznu22o",TitleLink:"_2D7eYuDY6cYGtybECmsxvE",titleLink:"_2D7eYuDY6cYGtybECmsxvE",TitleText:"_19bCWnxeTjqzBElWZfIlJb",titleText:"_19bCWnxeTjqzBElWZfIlJb",TitleTextShiftedContainer:"_2TC7AdkcuxFIFKRO_VWis8",titleTextShiftedContainer:"_2TC7AdkcuxFIFKRO_VWis8",TitleTextWithSecondaryTitle:"_35WVFxUni5zeFkPk7O4iiB",titleTextWithSecondaryTitle:"_35WVFxUni5zeFkPk7O4iiB",UserCounts:"_7kAMkb9SAVF8xJ3L53gcW",userCounts:"_7kAMkb9SAVF8xJ3L53gcW",Online:"_3_HlHJ56dAfStT19Jgl1bF",online:"_3_HlHJ56dAfStT19Jgl1bF",SubscriberCount:"nEdqRRzLEN43xauwtgTmj",subscriberCount:"nEdqRRzLEN43xauwtgTmj",CakeDay:"_2QZ7T4uAFMs_N83BZcN-Em",cakeDay:"_2QZ7T4uAFMs_N83BZcN-Em",cakeIcon:"_19sQCxYe2NApNbYNX5P5-L",Count:"_3XFx6CfPlg-4Usgxm0gK8R",count:"_3XFx6CfPlg-4Usgxm0gK8R",CountMetaText:"_34InTQ51PAhJivuc_InKjJ",countMetaText:"_34InTQ51PAhJivuc_InKjJ",UserType:"_29_mu5qI8E1fq6Uq5koje8",userType:"_29_mu5qI8E1fq6Uq5koje8",WidgetHeader:"_2BY2-wxSbNFYqAy98jWyTC",widgetHeader:"_2BY2-wxSbNFYqAy98jWyTC",Description:"_3sGbDVmLJd_8OV8Kfl7dVv",description:"_3sGbDVmLJd_8OV8Kfl7dVv",Buttons:"_1qiHDKK74j6hUNxM0p9ZIp",buttons:"_1qiHDKK74j6hUNxM0p9ZIp",SubscribeButton:"_1eMniuqQCoYf3kOpyx83Jj",subscribeButton:"_1eMniuqQCoYf3kOpyx83Jj",CreatePostButton:"_326PJFFRv8chYfOlaEYmGt",createPostButton:"_326PJFFRv8chYfOlaEYmGt",CreateCommunityButton:"Jy6FIGP1NvWbVjQZN7FHA",createCommunityButton:"Jy6FIGP1NvWbVjQZN7FHA",VisitCommunityButton:"_1cDoUuVvel5B1n5wa3K507",visitCommunityButton:"_1cDoUuVvel5B1n5wa3K507",ModSettings:"_2_w8DCFR-DCxgxlP1SGNq5",modSettings:"_2_w8DCFR-DCxgxlP1SGNq5",ModToolsLink:"_1aS-wQ7rpbcxKT0d5kjrbh",modToolsLink:"_1aS-wQ7rpbcxKT0d5kjrbh",CategoryContainer:"_2cn386lOe1A_DTmBUA-qSM",titleTextContainer:"_2Zdkj7cQEO3zSGHGK2XnZv",editIconText:"wzFxUZxKK8HkWiEhs0tyE",iconFilePicker:"_3R24jLERJTaoRbM_vYd9v0",HorizontalLine:"_38lwnrIpIyqxDfAF1iwhcV",horizontalLine:"_38lwnrIpIyqxDfAF1iwhcV",subredditTitle:"yobE-ux_T1smVDcFMMKFv",CommunityTypeContainer:"_2DVpJZAGplELzFy4mB0epQ",communityTypeContainer:"_2DVpJZAGplELzFy4mB0epQ",communityType:"x1f6lYW8eQcUFu0VIPZzb",communityTypeIcon:"LTiNLdCS1ZPRx9wBlY2rD",communityTypeText:"_18e78ihYD3tNypPhtYISq3"}},"./src/reddit/components/IdCard/renderFakeSubredditTitle.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/components/IdCard/index.m.less"),o=s.n(a);const d=({snooBackground:e})=>r.a.createElement("div",{className:o.a.AdorableSnoo,style:{background:e.image,backgroundSize:`${e.width}px ${e.height}px`,height:e.height,width:e.width}});t.a=({titleText:e,snooBackground:t})=>r.a.createElement("div",{className:Object(i.a)(o.a.Title,o.a.TitleShifted)},r.a.createElement(d,{snooBackground:t}),r.a.createElement("div",{className:o.a.TitleTextShiftedContainer},r.a.createElement("span",{className:o.a.TitleText},e)))},"./src/reddit/components/JSAPIContainers/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return f})),s.d(t,"b",(function(){return y})),s.d(t,"c",(function(){return _})),s.d(t,"d",(function(){return O})),s.d(t,"e",(function(){return v})),s.d(t,"f",(function(){return k})),s.d(t,"g",(function(){return j})),s.d(t,"h",(function(){return S})),s.d(t,"i",(function(){return w}));var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),o=s("./node_modules/lodash/isNil.js"),d=s.n(o),c=s("./src/reddit/constants/jsapiEvents.ts");var l=s("./src/reddit/singleton/EventSystem.ts");const u=Object(a.c)({consumers:e=>e.jsApi});class m extends n.Component{constructor(){super(...arguments),this.el=void 0,this.fireEvent=e=>{const{props:{className:t,consumers:s,...n}}=this;l.a.publish(c.a,n,e)},this.setRef=e=>this.el=e}componentDidMount(){d()(this.el)||this.fireEvent(this.el)}componentDidUpdate(){d()(this.el)||this.fireEvent(this.el)}render(){const{props:e}=this;return e.consumers.length?r.a.createElement("span",{className:this.props.className,ref:this.setRef},e.consumers.map(e=>e&&r.a.createElement("span",{"data-name":e,key:e}))):null}}var p=Object(i.b)(u,{})(m),b=s("./src/reddit/selectors/comments.ts"),h=s("./src/reddit/selectors/commentSelector.ts"),x=s("./src/reddit/selectors/subreddit.ts");const g=(e,t)=>{const s=Object(h.a)(e,t),n=Object(x.I)(e,t);return{comment:s,isModerator:!(!n||!n.name)&&!!e.moderatingSubreddits[n.name],subredditOrProfile:n}};var f=Object(i.b)(()=>Object(a.a)(g,b.j,(e,t)=>({...e,depth:t})))(e=>r.a.createElement(p,{type:"comment",data:{author:e.comment.author,approvedAtUTC:e.comment.approvedAtUTC,approvedBy:e.comment.approvedBy,bannedAtUTC:e.comment.bannedAtUTC,body:e.comment.body,created:e.comment.created,distinguishType:e.comment.distinguishType,id:e.comment.id,isApproved:e.comment.isApproved,isRemoved:e.comment.isRemoved,isSpam:e.comment.isSpam,isStickied:e.comment.isStickied,isTopLevel:0===e.depth,post:{id:e.comment.postId},removedBy:e.comment.bannedBy,subreddit:{id:e.subredditOrProfile?e.subredditOrProfile.id:"",name:e.subredditOrProfile?e.subredditOrProfile.name:"",type:e.subredditOrProfile?e.subredditOrProfile.type:""}}}));const E=(e,t)=>{const s=Object(h.a)(e,t),n=Object(x.I)(e,t);return{comment:s,isModerator:!(!n||!n.name)&&!!e.moderatingSubreddits[n.name],subredditOrProfile:n}};var y=Object(i.b)(()=>Object(a.a)(E,e=>e))(e=>r.a.createElement(p,{type:"commentAuthor",data:{author:e.comment.author,comment:{id:e.commentId},isModerator:e.isModerator,post:{id:e.comment.postId},subreddit:{id:e.subredditOrProfile?e.subredditOrProfile.id:"",name:e.subredditOrProfile?e.subredditOrProfile.name:"",type:e.subredditOrProfile?e.subredditOrProfile.type:""}}}));var _=Object(i.b)(()=>Object(a.c)({subreddit:x.S}))(e=>r.a.createElement(p,{className:e.className,type:"communityTools",data:{sectionName:e.sectionName,subreddit:e.subreddit?{id:e.subreddit.id,name:e.subreddit.name,type:e.subreddit.type}:{}}})),C=s("./src/reddit/selectors/posts.ts");var O=Object(i.b)(()=>Object(a.c)({post:C.O,subredditOrProfile:C.bb,isModerator:(e,t)=>{const s=Object(C.bb)(e,t);return s&&!!e.moderatingSubreddits[s.name]||!1}}))(e=>r.a.createElement(p,{className:e.className,type:"post",data:{author:e.post.author,approvedAtUTC:e.post.approvedAtUTC,approvedBy:e.post.approvedBy,bannedAtUTC:e.post.bannedAtUTC,created:e.post.created,numComments:e.post.numComments,distinguishType:e.post.distinguishType,domain:e.post.source&&e.post.source.displayText,flair:e.post.flair,id:e.post.id,isApproved:e.post.isApproved,isRemoved:e.post.isRemoved,isSpam:e.post.isSpam,media:e.post.media,permalink:e.post.permalink,removedBy:e.post.bannedBy,sourceUrl:e.post.source&&e.post.source.url,subreddit:e.subredditOrProfile?{id:e.subredditOrProfile.id,name:e.subredditOrProfile.name,type:e.subredditOrProfile.type}:{},title:e.post.title,voteState:e.post.voteState}}));var v=Object(i.b)(()=>Object(a.c)({subredditOrProfile:(e,t)=>Object(C.bb)(e,{postId:t.post.id}),isModerator:(e,t)=>{const s=Object(C.bb)(e,{postId:t.post.id});return s&&!!e.moderatingSubreddits[s.name]||!1}}))(e=>r.a.createElement(p,{className:e.className,type:"postAuthor",data:{author:e.post.author,isModerator:e.isModerator,post:{id:e.post.id},subreddit:e.subredditOrProfile?{id:e.subredditOrProfile.id,name:e.subredditOrProfile.name,type:e.subredditOrProfile.type}:{}}}));var k=Object(i.b)(()=>Object(a.c)({post:C.O,subredditOrProfile:C.bb,isModerator:(e,t)=>{const s=Object(C.bb)(e,t);return s&&!!e.moderatingSubreddits[s.name]||!1}}))(e=>r.a.createElement(p,{className:e.className,type:"postModTools",data:{author:e.post.author,approvedAtUTC:e.post.approvedAtUTC,approvedBy:e.post.approvedBy,bannedAtUTC:e.post.bannedAtUTC,distinguishType:e.post.distinguishType,flair:e.post.flair,id:e.post.id,isApproved:e.post.isApproved,isRemoved:e.post.isRemoved,isSpam:e.post.isSpam,media:e.post.media,numComments:e.post.numComments,permalink:e.post.permalink,removedBy:e.post.bannedBy,subreddit:e.subredditOrProfile?{id:e.subredditOrProfile.id,name:e.subredditOrProfile.name,type:e.subredditOrProfile.type}:{},title:e.post.title,voteState:e.post.voteState}}));var j=Object(i.b)(()=>Object(a.c)({subreddit:x.S}))(e=>r.a.createElement(p,{className:e.className,type:"sidebar",data:{subreddit:e.subreddit?{id:e.subreddit.id,name:e.subreddit.name,type:e.subreddit.type}:{}}}));var S=Object(i.b)(()=>Object(a.c)({subredditOrProfile:(e,t)=>Object(x.L)(e,{identifier:t})}))(e=>r.a.createElement(p,{className:e.className,type:"subreddit",data:{id:e.subredditOrProfile.id,displayText:e.subredditOrProfile.displayText,name:e.subredditOrProfile.name,title:e.subredditOrProfile.title,url:e.subredditOrProfile.title}}));var w=Object(i.b)(()=>Object(a.c)({subreddit:(e,{subredditId:t})=>t?Object(x.S)(e,{subredditId:t}):null}))(e=>r.a.createElement(p,{className:e.className,type:"userHovercard",data:{user:e.user,contextId:e.contextId,subreddit:e.subreddit?{id:e.subreddit.id,name:e.subreddit.name,type:e.subreddit.type}:{}}}))},"./src/reddit/components/Media/EmbedBox/index.m.less":function(e,t,s){e.exports={embedBox:"_3K6DCjWs2dQ93YYZDOHjib"}},"./src/reddit/components/Media/EmbedBox/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),o=s("./src/lib/addQueryParams/index.ts"),d=s("./src/lib/classNames/index.ts"),c=s("./src/lib/forceHttps/index.ts"),l=s("./src/reddit/constants/tracking.ts"),u=s("./src/reddit/models/Media/index.ts"),m=s("./src/reddit/selectors/user.ts"),p=s("./src/reddit/components/Media/EmbedBox/index.m.less"),b=s.n(p);const h=["allow-forms","allow-orientation-lock","allow-popups","allow-popups-to-escape-sandbox","allow-presentation","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"].join(" "),x=Object(i.b)(()=>Object(a.c)({isNightmodeOn:m.U}));t.a=x(e=>{const t={responsive:"true",is_nightmode:e.isNightmodeOn},s=e.isResponsive?Object(o.a)(Object(c.a)(e.source),t):Object(c.a)(e.source),n={overflow:"hidden"};return n.width=e.width&&!e.fullWidth?`${e.width}px`:"100%",e.showCentered&&(n.margin="0 auto"),e.isListing||(n.maxHeight=`${u.e}px`),void 0!==e.maxHeight&&(n.maxHeight=e.maxHeight||void 0),r.a.createElement("iframe",{className:Object(d.a)(l.a,b.a.embedBox,e.className),height:e.height,width:e.width&&!e.fullWidth?e.width:"100%",onLoad:e.onLoad,ref:e.childRef,title:e.title,sandbox:h,scrolling:"no",src:s,style:n,allowFullScreen:!0})})},"./src/reddit/components/Media/ImageBox/index.m.less":function(e,t,s){e.exports={container:"_3Oa0THmZ3f5iZXAQ0hBJ0k",image:"_2_tDEnGMLxpM6uOa2kaDB3",mShowCentered:"_1XWObl-3b9tPy64oaG6fax",mShowBlurred:"_3oBPn1sFwq76ZAxXgwRhhn",seeMore:"_3hUbl08LBz2mbXjy0iYhOS",unblurButtonContainer:"c1UAj_LbgdGBuJFlKbnrQ",unblurButton:"_2Ws3wFSVPzJhnW46FsoxLv"}},"./src/reddit/components/Media/ImageBox/index.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return v}));var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),i=s.n(r),a=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/react-router-dom/esm/react-router-dom.js"),d=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),l=s("./src/lib/forceHttps/index.ts"),u=s("./src/lib/opener/index.ts"),m=s("./src/lib/permalinkToOverlayLocation/index.ts"),p=s("./src/reddit/components/PlayButton/index.tsx"),b=s("./src/reddit/constants/elementClassNames.ts"),h=s("./src/reddit/controls/OutboundLink/index.tsx"),x=s("./src/reddit/models/Media/index.ts"),g=s("./src/reddit/selectors/posts.ts"),f=s("./src/reddit/selectors/user.ts"),E=s("./src/reddit/constants/tracking.ts"),y=s("./src/reddit/components/Media/blurredContent.ts"),_=s("./src/reddit/components/Media/ImageBox/index.m.less"),C=s.n(_);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const v=e=>e>2*x.e,k=e=>{const t=Object(c.a)(C.a.image,b.g,e.className,{[C.a.mShowCentered]:e.showCentered,[C.a.mShowBlurred]:e.shouldBlur}),s={};return e.showFull||e.isTall||(s.maxHeight=`${x.j}px`),e.isListing||e.isTall&&v(e.height)||(s.maxHeight=`${x.e}px`),e.isExpando&&e.maxHeight&&(s.maxHeight=`${e.maxHeight}px`),e.isExpando&&e.maxWidth&&(s.maxWidth=`${e.maxWidth}px`),i.a.createElement("img",{alt:e.altText||n.fbt._("Post image",null,{hk:"3KfCgs"}),className:t,src:e.src,style:s})},j=e=>{const t={};return(!e.showFull&&Object(x.I)(e.height,e.width)||e.shouldBlur)&&(t.overflow="hidden"),e.showFull||(t.maxHeight=`${x.j}px`,e.shouldBlur&&(t.maxWidth=Object(x.I)(e.height,e.width)?`${x.z}px`:`${e.width}px`)),e.showCentered&&(t.margin="0 auto"),e.isExpando&&e.maxHeight&&(t.maxHeight=`${e.maxHeight}px`),i.a.createElement("div",{className:Object(c.a)(C.a.container,e.className),style:t},e.children)},S=Object(a.b)(()=>Object(d.a)(g.N,f.ab,(e,{isSponsored:t,postId:s})=>t&&s?Object(g.b)(e,s):null,(e,t,s)=>({postPermalink:e,shouldOpenPostInNewTab:t,basePixelMetadata:s})));t.a=S(e=>e.outboundUrl&&!e.shouldBlur?i.a.createElement("a",{href:e.outboundUrl,target:"_blank",rel:u.a,onMouseDown:t=>{e.source&&e.outboundUrl&&e.isSponsored&&e.basePixelMetadata&&Object(h.c)(t.currentTarget,e.postId,e.basePixelMetadata)}},T(e)):e.isListing&&e.postPermalink?i.a.createElement(o.a,{target:e.shouldOpenPostInNewTab?"_blank":void 0,to:Object(m.a)(e.postPermalink)},T(e)):T(e));const w=(e,t)=>i.a.createElement(k,{altText:t.altText,className:Object(c.a)(t.imageClassName,{[E.a]:!e}),height:t.height,isExpando:!!t.isExpando,isListing:t.isListing,isTall:e,maxHeight:t.maxHeight,maxWidth:t.maxWidth,shouldBlur:t.shouldBlur,showCentered:t.showCentered,showFull:t.showFull,src:Object(l.a)(t.source),width:t.width}),T=({onClick:e,...t})=>{const s=Object(x.I)(t.height,t.width),r=v(t.height)&&s;return i.a.createElement(j,O({},t,{className:`${s?`${E.a} `:""}${t.className||""}`}),t.isListing?i.a.createElement("div",{className:t.contentImageClassName},w(s,t)):i.a.createElement("a",{href:t.originalSource,onClick:e,style:r?{maxWidth:"50%"}:{},target:"_blank",rel:u.b},w(s,t)),t.isListing&&!t.showFull&&t.height>x.j&&Object(x.I)(t.height,t.width)&&i.a.createElement("div",{className:C.a.seeMore},n.fbt._("see full image",null,{hk:"1Qygw5"})),t.isVideoThumbnail&&i.a.createElement(p.a,{onClick:e}),t.shouldBlur&&!t.isVideoThumbnail&&!t.isListing&&i.a.createElement("div",{className:C.a.unblurButtonContainer},i.a.createElement("button",{className:C.a.unblurButton},Object(y.a)(!!t.isNSFW,!!t.isSpoiler))))}},"./src/reddit/components/Media/MediaContainer/index.m.less":function(e,t,s){e.exports={blur:"_2iaYXFpGyyEGq1rp02cl5w",container:"m3aNC6yp8RrNM_-a0rrfa",isGalleryTileLayout:"_1fptM9wVD8i598KW_RjLWO",video:"_3PIKVMCKdveCEcyiKr43sU",spacer:"_3gBRFDB5C34UWyxEe_U6mD",wrapper:"_3JgI-GOrkmyIeDeyzXdyUD",mColoredBackground:"_2CSlKHjH7lsjx0IpjORx14"}},"./src/reddit/components/Media/MediaContainer/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/lib/classNames/index.ts"),a=s("./src/lib/forceHttps/index.ts"),o=s("./src/reddit/models/Media/index.ts"),d=s("./src/reddit/components/Media/MediaContainer/index.m.less"),c=s.n(d);const l=e=>{let t=null;(e.showFull||e.height<o.j)&&(t=e.height),e.maxGalleryHeight&&(t=e.maxGalleryHeight);const s={...t?{maxHeight:`${t}px`}:{},...e.showFull&&!e.showCentered?{maxWidth:`${e.width}px`}:{},...e.blurSrc?{overflow:"hidden"}:{}},n=e.blurSrc?r.a.createElement("img",{className:c.a.blur,src:Object(a.a)(e.blurSrc)}):null,d=Object(o.B)(e.height,e.width,e.forceAspectRatio);return r.a.createElement("div",{className:Object(i.a)(c.a.container,e.className,{[c.a.video]:e.isVideo,[c.a.isGalleryTileLayout]:!!e.isGalleryTileLayout}),"data-click-id":"media",style:e.isGalleryTileLayout?void 0:s},n,!e.isGalleryTileLayout&&r.a.createElement("div",{className:c.a.spacer,style:{paddingBottom:`${d}%`}}),r.a.createElement("div",{className:Object(i.a)(c.a.wrapper,{[c.a.mColoredBackground]:!e.blurSrc,[c.a.isGalleryTileLayout]:!!e.isGalleryTileLayout})},e.children))};class u extends r.a.Component{render(){if(!this.props.isListing&&!this.props.alwaysWrapMedia||this.props.isExpando){return r.a.Children.only(this.props.children)||r.a.createElement("div",null)}return r.a.createElement(l,this.props)}}},"./src/reddit/components/Media/VideoBox/index.m.less":function(e,t,s){e.exports={container:"_3spkFGVnKMHZ83pDAhW3Mx",centered:"_2b68Lt6xHaLir5082LDDA9",styledVideo:"tErWI93xEKrI2OkozPs7J"}},"./src/reddit/components/Media/VideoBox/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/lodash/throttle.js"),r=s.n(n),i=s("./node_modules/react/index.js"),a=s.n(i),o=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),l=s("./src/reddit/actions/video.ts"),u=s("./src/reddit/constants/tracking.ts"),m=s("./src/reddit/models/Media/index.ts"),p=s("./src/reddit/selectors/user.ts"),b=s("./src/reddit/selectors/video.ts");const h=100,x=h/2/1e3;var g=s("./src/lib/forceHttps/index.ts");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}class E extends a.a.Component{constructor(e){super(e),this.toggle=e=>{if(e){const e=this.play();e&&e.catch&&e.catch(()=>{})}else this.pause()},this.ref=null}play(){if(this.ref&&this.ref.play)return this.ref.play()}pause(){if(this.ref&&this.ref.pause)return this.ref.pause()}componentDidMount(){this.initEventHandlers(),this.toggle(!this.props.shouldPause&&(this.props.autoplay||this.props.isNotCardView))}componentWillUnmount(){this.destroyEventHandlers()}UNSAFE_componentWillReceiveProps(e){this.props.shouldPause!==e.shouldPause&&this.toggle(!e.shouldPause&&(e.autoplay||e.isNotCardView))}destroyEventHandlers(){this.ref&&this.cancelBufferingDetector&&this.cancelBufferingDetector()}initEventHandlers(){this.ref&&this.props.onBufferingChange&&(this.cancelBufferingDetector=function(e,t){let s=!1,n=!1;const r=()=>s=!0,i=()=>n=!0;e.addEventListener("loadeddata",r),e.addEventListener("play",i),e.addEventListener("playing",i);let a=!1,o=0,d=0;const c=window.setInterval(()=>{if(d=e.currentTime,n)return n=!1,void(o=d);if(e.paused||e.seeking||!s)return void(o=d);const r=a;4===e.readyState?a=!1:!a&&d>=o&&d<o+x?a=!0:a&&d>=o&&d>o+x&&(a=!1),o=d,r!==a&&t(a)},h);return()=>{clearInterval(c),e.removeEventListener("playing",i),e.removeEventListener("play",i),e.removeEventListener("loadeddata",r)}}(this.ref,this.props.onBufferingChange))}render(){const{autoplay:e,isListing:t,isNotCardView:s,onBufferingChange:n,shouldLoad:r,shouldPause:i,showCentered:o,showFull:d,source:c,...l}=this.props;return a.a.createElement("video",f({},l,{ref:e=>{this.ref=e},muted:!0}),a.a.createElement("source",{src:Object(g.a)(this.props.source||"")}))}}var y=E,_=s("./src/reddit/components/Media/VideoBox/index.m.less"),C=s.n(_);const O=Object(d.c)({autoplayPref:p.b,consumed:b.b,loadTimes:b.h,metadata:b.j,started:b.m}),v=Object(o.b)(O,(e,{postId:t})=>({onBufferingChanged:s=>{e(s?l.r(t):l.E(t))},onLoadStarted:s=>e(l.q(t,s)),onMetadataReceived:s=>e(l.D({metadata:s,postId:t})),onPaused:()=>e(l.z({postId:t})),onPlayable:s=>e(l.A(t,s)),onPlaying:()=>e(l.C(t)),onWatched:()=>e(l.s(t)),onViewableImpression:()=>e(l.x(t)),onFullyViewableImpression:()=>e(l.u(t)),onPlayedWithSound:()=>e(l.B(!1,t)),onWatchedPercent:s=>e(l.N(s,t))}));class k extends a.a.Component{constructor(){super(...arguments),this.percentTriggered=0,this._checkForConsumption=r()(e=>{if(this.props.consumed)return;const{target:t}=e;t&&t.played&&1===t.played.length&&0===t.played.start(0)&&t.played.end(0)===t.duration&&this.props.onWatched()},200),this.onTimeUpdate=e=>{e.persist(),this._checkForConsumption(e)},this.onVideoPlayable=e=>{this.props.metadata||this.sendTransformedMetadata(e),this.props.started||this.props.onPlayable(e.timeStamp)},this.loadStarted=e=>{this.props.onLoadStarted(e.timeStamp)},this.sendTransformedMetadata=e=>{this.props.onMetadataReceived({id:this.props.postId,length:1e3*e.target.duration,originalHeight:e.target.videoHeight,originalWidth:e.target.videoWidth})},this.onPaused=e=>{this.props.onPaused()},this.onPlaying=e=>{this.props.loadTimes||this.onVideoPlayable(e),this.props.metadata||this.sendTransformedMetadata(e),this.props.onPlaying()},this.renderVideoPlayer=()=>{const{showCentered:e,isListing:t}=this.props,s={};return e&&(s.margin="0 auto"),t||(s.maxHeight=`${m.e}px`),a.a.createElement(y,{autoplay:this.props.autoplayPref,className:Object(c.a)(u.a,C.a.styledVideo),height:this.props.height,isListing:this.props.isListing,isNotCardView:this.props.isNotCardView,key:this.props.postId,loop:!0,onBufferingChange:this.props.onBufferingChanged,onLoadStart:this.loadStarted,onLoadedData:this.onVideoPlayable,onLoadedMetadata:this.sendTransformedMetadata,onPause:this.props.onPaused,onPlaying:this.onPlaying,onTimeUpdate:this.onTimeUpdate,shouldLoad:this.props.shouldLoad,shouldPause:this.props.shouldPause,showCentered:this.props.showCentered,showFull:this.props.showFull,source:this.props.source,style:s,width:this.props.width})}}render(){return this.props.isListing?this.renderVideoPlayer():a.a.createElement("div",{className:Object(c.a)(C.a.container,this.props.className,{[C.a.centered]:this.props.showCentered})},a.a.createElement("a",{href:this.props.originalSource,target:"_blank"},this.renderVideoPlayer()))}}t.a=v(k)},"./src/reddit/components/Media/blurredContent.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s("./node_modules/fbt/lib/FbtPublic.js");const r=(e,t)=>e&&t?n.fbt._("Click to see nsfw spoiler",null,{hk:"4EdPWu"}):e?n.fbt._("Click to see nsfw",null,{hk:"4CErse"}):t?n.fbt._("Click to see spoiler",null,{hk:"1x3iUE"}):void 0},"./src/reddit/components/MiniCardPost/index.m.less":function(e,t,s){e.exports={flexSpacer:"_3FMwep96W9D-wkC9u2Pc0L",backgroundWrapper:"_2yVioz8mzc0YBV2JyNXzRj",innerContainer:"_3mrITcnODXcvMf9oonBXeD",metaLine:"_20xUo-97VDWkydk8rn74dR",media:"_1qlC_L_v_Aher9NBsvBIMR",mediaWrapper:"_1UmG626eNsebZt_eyKdDL4",postTitleCompact:"_3wSK3_gZiuaUZtqPKu9z3M",mediaImageBox:"Xqhz61TRPUo_ek11O2hcV",mediaImageBoxContentImage:"_2t6Z9GgOnrWn2b5Ndv_T5K",postContainer:"_3Ud8ZDEFc0kXFg6R9KhDPS"}},"./src/reddit/components/RawHTMLDisplay/index.m.less":function(e,t,s){e.exports={StyledRawHTMLDisplay:"_3ms2Z8z8rPWLXaErcTJ9yH",styledRawHtmlDisplay:"_3ms2Z8z8rPWLXaErcTJ9yH"}},"./src/reddit/components/RawHTMLDisplay/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/polished/dist/polished.es.js"),r=s("./node_modules/react/index.js"),i=s.n(r),a=s("./node_modules/react-redux/es/index.js"),o=s("./src/lib/CSSVariableProvider/withTheme.tsx"),d=s("./src/lib/lessComponent.tsx"),c=s("./src/reddit/actions/urlRequested.ts"),l=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),u=s("./src/reddit/components/RawHTMLDisplay/index.m.less"),m=s.n(u);const p=Object(a.b)(null,e=>({onNavigate:t=>e(Object(c.a)(t))})),b=d.a.wrapped(e=>i.a.createElement("div",{className:e.className,dangerouslySetInnerHTML:{__html:e.html},onClick:t=>{((e,t,s)=>{if(!e.ctrlKey&&!e.metaKey&&1!==e.button&&"A"===e.target.tagName){e.preventDefault(),t(e.target.getAttribute("href"))}e.target.classList&&e.target.classList.contains("md-spoiler-text")&&(e.target.dataset.revealed=!0),s&&s(e)})(t,e.onNavigate,e.onClick)},style:{...e.style,"--RawHTMLDisplay-tr-even":Object(n.g)(Object(l.a)(e).body,.8),"--RawHTMLDisplay-tr-odd":Object(n.g)(Object(l.a)(e).line,.8)}}),"StyledRawHTMLDisplay",m.a);t.a=p(Object(o.a)(b))},"./src/reddit/components/RichTextJson/Emote/index.m.less":function(e,t,s){e.exports={container:"JnJcJlA7hHeajn8Um_Bh5"}},"./src/reddit/components/RichTextJson/SpoilerText.m.less":function(e,t,s){e.exports={InnerSpan:"_3mIYu0jAt23sIWGr4pFcI",innerSpan:"_3mIYu0jAt23sIWGr4pFcI",TooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",tooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",SpoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",spoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",isOpen:"_15VS32zBYFUDI5ssldQhEK",Component:"_3CBmNG6xIaLHHh1ts_10tN",component:"_3CBmNG6xIaLHHh1ts_10tN"}},"./src/reddit/components/RichTextJson/SpoilerText.tsx":function(e,t,s){"use strict";var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),i=s.n(r),a=s("./src/lib/classNames/index.ts"),o=s("./src/higherOrderComponents/addOverlayEvents.tsx"),d=s("./src/reddit/components/InfoTextTooltip/index.tsx"),c=s("./src/reddit/components/OverlayAwareTooltip/index.tsx"),l=s("./src/reddit/components/RichTextJson/SpoilerText.m.less"),u=s.n(l),m=s("./src/lib/lessComponent.tsx");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const b=["left","top"],h=["left","bottom"],x=m.a.span("InnerSpan",u.a),g=m.a.span("TooltipTarget",u.a),f=m.a.span("SpoilerWrapper",u.a),E=m.a.wrapped(({className:e,isOpen:t,...s})=>i.a.createElement(f,p({},s,{className:Object(a.a)(e,{[u.a.isOpen]:t})})),"SpoilerWrapper",u.a),y=Object(c.a)(m.a.wrapped(d.b,"Component",u.a),[o.a.Click,o.a.Keydown]);class _ extends i.a.Component{constructor(e){super(e),this.tooltipTargetElement=null,this.onClick=e=>{const{isOpen:t}=this.state;t||(e.preventDefault(),e.stopPropagation(),this.setState({isOpen:!0}))},this.setTooltipTargetRef=e=>this.tooltipTargetElement=e,this.onShowTooltip=()=>{this.state.isOpen||this.setState({showTooltip:!0})},this.onHideTooltip=()=>{this.setState({showTooltip:!1})},this.state={isOpen:!1,showTooltip:!1}}render(){const{isOpen:e,showTooltip:t}=this.state;return i.a.createElement(E,{isOpen:e,onMouseEnter:this.onShowTooltip,onMouseLeave:this.onHideTooltip,onClick:this.onClick},i.a.createElement(x,null,i.a.createElement(g,{innerRef:this.setTooltipTargetRef}),i.a.createElement(y,{isOpen:t,tooltipTarget:this.tooltipTargetElement,text:n.fbt._("Reveal spoiler",null,{hk:"271xYi"}),targetPosition:b,tooltipPosition:h}),this.props.children))}}t.a=_},"./src/reddit/components/RichTextJson/elements.m.less":function(e,t,s){e.exports={H1:"_7T4UafM1PdBGycd5na9nF",h1:"_7T4UafM1PdBGycd5na9nF",H2:"_1WODZhR-x-fbMu3MOL9cH1",h2:"_1WODZhR-x-fbMu3MOL9cH1",H3:"WFFrvt6_3z5B7MBcYKr8U",h3:"WFFrvt6_3z5B7MBcYKr8U",H4:"_2UlSUuiYR4BRv_FiLxCcu9",h4:"_2UlSUuiYR4BRv_FiLxCcu9",H5:"hnYPKCNkyo9X6QpCXHj1I",h5:"hnYPKCNkyo9X6QpCXHj1I",H6:"_1ceLNhXCFZ1_Lj9Th4go_C",h6:"_1ceLNhXCFZ1_Lj9Th4go_C",Hr:"_2ACwpV3Y0LKhHHKbsxNmmY",hr:"_2ACwpV3Y0LKhHHKbsxNmmY",M:"_34q3PgLsx9zIU5BiSOjFoM",m:"_34q3PgLsx9zIU5BiSOjFoM",Pre:"_3GnarIQX9tD_qsgXkfSDz1",pre:"_3GnarIQX9tD_qsgXkfSDz1",Blockquote:"_28lDeogZhLGXvE95QRPeDL",blockquote:"_28lDeogZhLGXvE95QRPeDL",P:"_1qeIAgB0cPwnLhDF9XSiJM",p:"_1qeIAgB0cPwnLhDF9XSiJM",Li:"_3gqTEjt4x9UIIpWiro7YXz",li:"_3gqTEjt4x9UIIpWiro7YXz",Ul:"_33MEMislY0GAlB78wL1_CR",ul:"_33MEMislY0GAlB78wL1_CR",Ol:"_1eJr7K139jnMstd4HajqYP",ol:"_1eJr7K139jnMstd4HajqYP",B:"_12FoOEddL7j_RgMQN0SNeU",b:"_12FoOEddL7j_RgMQN0SNeU",I:"_7s4syPYtk5hfUIjySXcRE",i:"_7s4syPYtk5hfUIjySXcRE",U:"HoWuCifWxDx-PnwllGmZd",u:"HoWuCifWxDx-PnwllGmZd",Sub:"_2aQztsTwdz2uTN4arsyBD6",sub:"_2aQztsTwdz2uTN4arsyBD6",Sup:"_1jsgSPRO0cMQfs1UZrSovE",sup:"_1jsgSPRO0cMQfs1UZrSovE",Table:"MRH-njmSb5ZTkfb1o4dqv",table:"MRH-njmSb5ZTkfb1o4dqv",Tr:"s6JZe6869f81l9E_5G7Q9",tr:"s6JZe6869f81l9E_5G7Q9",Tdl:"_3DYfYn_cczg1wj_a3hhyV6",tdl:"_3DYfYn_cczg1wj_a3hhyV6",Tdc:"_1LHijgw3WoeCUe8AUewfUB",tdc:"_1LHijgw3WoeCUe8AUewfUB",Tdr:"_3DqGFKR55y45L5IxBTgsFz",tdr:"_3DqGFKR55y45L5IxBTgsFz",Thl:"_4uv59XIILEFm6V3BmtSuR",thl:"_4uv59XIILEFm6V3BmtSuR",Thc:"_3TNkDptlyGOiWXvdX_acOB",thc:"_3TNkDptlyGOiWXvdX_acOB",Thr:"_1AUCpXmm3maPuEbUSe90Y8",thr:"_1AUCpXmm3maPuEbUSe90Y8",A:"_3t5uN8xUmg0TOwRCOGQEcU",a:"_3t5uN8xUmg0TOwRCOGQEcU"}},"./src/reddit/components/RichTextJson/elements.tsx":function(e,t,s){"use strict";s.d(t,"w",(function(){return l})),s.d(t,"e",(function(){return u})),s.d(t,"h",(function(){return m})),s.d(t,"k",(function(){return p})),s.d(t,"c",(function(){return b})),s.d(t,"j",(function(){return h})),s.d(t,"g",(function(){return x})),s.d(t,"v",(function(){return g})),s.d(t,"i",(function(){return f})),s.d(t,"b",(function(){return E})),s.d(t,"f",(function(){return y})),s.d(t,"u",(function(){return _})),s.d(t,"d",(function(){return C})),s.d(t,"l",(function(){return O})),s.d(t,"m",(function(){return v})),s.d(t,"n",(function(){return k})),s.d(t,"t",(function(){return j})),s.d(t,"p",(function(){return S})),s.d(t,"o",(function(){return w})),s.d(t,"q",(function(){return T})),s.d(t,"s",(function(){return P})),s.d(t,"r",(function(){return I})),s.d(t,"a",(function(){return N}));var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/reddit/controls/OutboundLink/index.tsx"),a=s("./src/reddit/components/RichTextJson/elements.m.less"),o=s.n(a),d=s("./src/lib/lessComponent.tsx");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const l=[d.a.div("H1",o.a),d.a.div("H2",o.a),d.a.div("H3",o.a),d.a.div("H4",o.a),d.a.div("H5",o.a),d.a.div("H6",o.a)],u=d.a.hr("Hr",o.a),m=d.a.code("M",o.a),p=d.a.pre("Pre",o.a),b=d.a.blockquote("Blockquote",o.a),h=d.a.p("P",o.a),x=d.a.li("Li",o.a),g=d.a.ul("Ul",o.a),f=d.a.ol("Ol",o.a),E=d.a.strong("B",o.a),y=d.a.em("I",o.a),_=d.a.span("U",o.a),C=e=>r.a.createElement("del",e),O=d.a.sub("Sub",o.a),v=d.a.sup("Sup",o.a),k=d.a.table("Table",o.a),j=d.a.tr("Tr",o.a),S=d.a.td("Tdl",o.a),w=d.a.td("Tdc",o.a),T=d.a.td("Tdr",o.a),P=d.a.th("Thl",o.a),I=d.a.th("Thc",o.a),N=(d.a.th("Thr",o.a),d.a.wrapped(e=>r.a.createElement(i.b,c({},e,{isSponsored:!1,source:null})),"A",o.a))},"./src/reddit/components/RichTextJson/index.m.less":function(e,t,s){e.exports={Container:"_292iotee39Lmt0MkQZ2hPV",container:"_292iotee39Lmt0MkQZ2hPV"}},"./src/reddit/components/RichTextJson/index.tsx":function(e,t,s){"use strict";s.d(t,"c",(function(){return C})),s.d(t,"b",(function(){return O})),s.d(t,"a",(function(){return k}));var n=s("./node_modules/lodash/findLastIndex.js"),r=s.n(n),i=s("./node_modules/react/index.js"),a=s.n(i),o=s("./src/lib/classNames/index.ts"),d=s("./src/lib/CSSVariableProvider/withTheme.tsx"),c=s("./src/lib/sentry/index.ts"),l=s("./src/reddit/constants/elementClassNames.ts"),u=s("./src/reddit/helpers/styles/postBackgroundColor.ts"),m=s("./src/reddit/helpers/styles/smartTextColor.ts"),p=s("./src/reddit/models/RichTextJson/index.ts"),b=s("./src/reddit/components/RichTextJson/media.tsx"),h=s("./src/reddit/components/RichTextJson/renderers.tsx"),x=s("./src/reddit/components/RichTextJson/index.m.less"),g=s.n(x);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const E=s("./src/lib/lessComponent.tsx").a.div("Container",g.a),y=Object(d.a)(({flairStyleTemplate:e,theme:t,...s})=>a.a.createElement(E,f({},s,{style:{color:Object(m.a)(Object(u.a)({flairStyleTemplate:e,theme:t,...s}))}}))),_=e=>e.e===p.k?!!e.c&&!e.c.every(e=>!e.t):e.e!==p.u||!!e.c&&!e.c.every(e=>e.e===p.A&&!e.t),C=e=>r()(e,_),O=e=>e.findIndex(_),v=e=>{const{altText:t,className:s,content:n,postId:r,renderMediaAsLinks:i,rtJsonElementProps:d,useExplicitTextColor:c}=e,u=n.document,m=[],x=e.mediaMetadata||null,g=O(u),f=C(u);if(-1!==g)for(let a=g;a<=f;a++){const e=u[a];switch(e.e){case p.k:m.push(h.c(e,d,a));break;case p.l:m.push(h.d(a));break;case p.b:m.push(h.a(e,x,d,a));break;case p.c:m.push(h.b(e,a));break;case p.p:m.push(h.f(e,x,d,a));break;case p.z:m.push(h.h(e,x,d,a));break;case p.u:m.push(h.g(e,x,d,a));break;case p.h:m.push(Object(b.a)(e,a));break;case p.m:case p.a:case p.D:m.push(...Object(b.b)(e,a,x,i,r,t))}}return c?a.a.createElement(E,{className:Object(o.a)(l.j,s)},m):a.a.createElement(y,{className:Object(o.a)(l.j,s),flairStyleTemplate:e.flairStyleTemplate},m)};class k extends a.a.Component{constructor(){super(...arguments),this.hasError=!1,this.state={hasError:!1},this.renderDefaultFallback=()=>"Something went wrong while trying to render this"}componentDidCatch(e){this.setState({hasError:!0}),this.logError(e)}logError(e){c.c.withScope(t=>{t.setExtra("objectInfo",this.props.rtJsonElementProps.renderingObjectInfo),t.setTag("rtjson","rendering"),c.c.captureException(e)})}render(){const{renderFallback:e=this.renderDefaultFallback,...t}=this.props;if(this.hasError||this.state.hasError)return e();try{return v(t)}catch(s){return this.hasError=!0,this.logError(s),e()}}}},"./src/reddit/components/RichTextJson/media.m.less":function(e,t,s){e.exports={A:"_1PlxnYkerei9iGJsL9JyrP",a:"_1PlxnYkerei9iGJsL9JyrP",ImageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",imageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",MediaWrapper:"_2-UiOdhyj4wHBv7Rc2FeDr",mediaWrapper:"_2-UiOdhyj4wHBv7Rc2FeDr",mHasCaption:"c1cmiB1jfdq4sxidlPDAx",Caption:"FJNSiirwoPtG58aeGw2Jx",caption:"FJNSiirwoPtG58aeGw2Jx",Placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",giphy:"_3J81Ds3WITP7zlq_PlUmGf"}},"./src/reddit/components/RichTextJson/media.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return j})),s.d(t,"b",(function(){return w}));var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),i=s.n(r),a=s("./src/lib/classNames/index.ts"),o=s("./src/config.ts"),d=s("./src/reddit/components/HTML5StreamPlayer/index.tsx"),c=s("./src/reddit/components/Media/EmbedBox/index.tsx"),l=s("./src/reddit/components/Media/ImageBox/index.tsx"),u=s("./src/reddit/components/Media/MediaContainer/index.tsx"),m=s("./src/reddit/components/Media/VideoBox/index.tsx"),p=s("./src/reddit/helpers/richTextJson/index.ts"),b=s("./src/reddit/models/RichTextJson/index.ts"),h=s("./src/reddit/components/RichTextJson/elements.tsx"),x=s("./src/reddit/components/RichTextJson/media.m.less"),g=s.n(x),f=s("./src/lib/lessComponent.tsx");function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const y=/\/(\w+)\/asset\/(\w+)\//,_=f.a.wrapped(h.a,"A",g.a),C=f.a.wrapped(l.a,"ImageBox",g.a),O=f.a.wrapped(e=>i.a.createElement("p",e),"Caption",g.a),v=f.a.div("Placeholder",g.a),k=f.a.wrapped(({className:e,e:t,...s})=>{const r=t===b.D?n.fbt._("Processing video...",null,{hk:"3SXDRi"}):n.fbt._("Processing image...",null,{hk:"1qwmbc"});return i.a.createElement(v,E({className:e,style:{"--placeholder-content-text":`'${r}'`}},s))},"Placeholder",g.a),j=({c:e,x:t,y:s},n)=>i.a.createElement("div",{className:g.a.MediaWrapper},i.a.createElement(u.a,{height:s,isListing:!1,key:n,showCentered:!0,showFull:!0,width:t},i.a.createElement(c.a,{isListing:!1,source:e,height:s,width:t,showCentered:!0,showFull:!0}))),S=(e,t,s)=>{const n=e.c;let r="";return s&&(s.e===b.s?r=s.s.u:s.e===b.r?r=s.s.gif:s.e===b.t&&(r=(e=>{const t=y.exec(e);return t?`${o.a.redditUrl}/link/${t[1]}/video/${t[2]}/player`:""})(s.dashUrl))),r?i.a.createElement(_,{href:r,key:t,title:n},n||r):null},w=(e,t,s,n,r,o)=>{const c=b.E(s,e.id);if(n)return[S(e,t,c)];const l=[];return c?c.e===b.s?l.push((({id:e,s:t},s,n,r)=>i.a.createElement("div",{className:Object(a.a)(g.a.MediaWrapper,{[g.a.mHasCaption]:n})},i.a.createElement(u.a,{height:t.y,isListing:!1,key:s,showCentered:!0,showFull:!0,width:t.x},i.a.createElement(C,{altText:r,originalSource:t.u,postId:e,source:t.u,height:t.y,width:t.x,shouldBlur:!1,showCentered:!0,showFull:!0,isListing:!1}))))(c,t,!!e.c,o)):c.e===b.r?l.push((({id:e,ext:t,s},n,r)=>{if(Object(p.e)(e)){const o=t||Object(p.d)(e);return i.a.createElement("div",{className:Object(a.a)(g.a.MediaWrapper,{[g.a.mHasCaption]:r})},i.a.createElement(_,{href:o,key:n,target:"_blank"},s.mp4?i.a.createElement("video",{className:g.a.giphy,loop:!0,autoPlay:!0,muted:!0},i.a.createElement("source",{src:s.mp4})):{originalSource:o}))}return i.a.createElement("div",{className:Object(a.a)(g.a.MediaWrapper,{[g.a.mHasCaption]:r})},i.a.createElement(u.a,{height:s.y,isListing:!1,key:n,showCentered:!0,showFull:!0,width:s.x},i.a.createElement(m.a,{height:s.y,isListing:!1,isNotCardView:!0,originalSource:s.mp4,width:s.x,postId:e,source:s.mp4,shouldPause:!1,showCentered:!0,shouldLoad:!0,showFull:!0})))})(c,t,!!e.c)):c.e===b.t&&l.push((({hlsUrl:e,dashUrl:t,x:s,y:n,isGif:r},o,c,l)=>i.a.createElement("div",{className:Object(a.a)(g.a.MediaWrapper,{[g.a.mHasCaption]:c})},i.a.createElement(u.a,{height:n,isListing:!1,isVideo:!0,key:o,showCentered:!0,showFull:!0,width:s},i.a.createElement(d.b,{shouldLoad:!0,shouldPause:!0,autoPlay:r,hlsSource:e,mpegDashSource:t,postId:l,isGif:r}))))(c,t,!!e.c,r)):l.push(((e,t)=>i.a.createElement(k,{e,key:t}))(e.e,t)),e.c&&l.push(((e,t)=>i.a.createElement(O,{key:t},e))(e.c,`caption${t}`)),l}},"./src/reddit/components/RichTextJson/renderers.tsx":function(e,t,s){"use strict";s.d(t,"c",(function(){return w})),s.d(t,"d",(function(){return T})),s.d(t,"a",(function(){return P})),s.d(t,"b",(function(){return I})),s.d(t,"f",(function(){return N})),s.d(t,"h",(function(){return B})),s.d(t,"g",(function(){return M})),s.d(t,"i",(function(){return F})),s.d(t,"e",(function(){return D}));var n=s("./src/lib/unicodeUtils/index.ts"),r=s("./node_modules/lodash/reduce.js"),i=s.n(r),a=s("./node_modules/react/index.js"),o=s.n(a),d=s("./src/reddit/components/RichTextJson/elements.tsx"),c=s("./node_modules/uuid/v4.js"),l=s.n(c),u=s("./src/reddit/components/TrackingHelper/index.tsx"),m=s("./src/reddit/models/Product/index.ts"),p=s("./src/reddit/models/RichTextJson/index.ts"),b=s("./src/reddit/selectors/telemetry.ts"),h=s("./src/higherOrderComponents/makeAsync.tsx");var x=Object(h.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("RichTextJsonEmoteTooltip").then(s.bind(null,"./src/reddit/components/RichTextJson/Emote/Tooltip/index.tsx")).then(e=>e.default)}),g=s("./src/reddit/components/RichTextJson/Emote/index.m.less"),f=s.n(g);const E=1e3,y=1e3;var _;!function(e){e[e.Inside=0]="Inside",e[e.Outside=1]="Outside"}(_||(_={}));class C extends o.a.Component{constructor(){super(...arguments),this.mouseLocation=_.Outside,this.state={tooltipOpen:!1},this.onClick=()=>this.sendEvent("click"),this.onMouseOver=()=>{this.mouseLocation=_.Inside,setTimeout(()=>{this.mouseLocation===_.Inside&&(this.setState({tooltipOpen:!0}),this.sendEvent("view"))},E)},this.onMouseOut=()=>{this.mouseLocation=_.Outside,setTimeout(()=>{this.mouseLocation!==_.Inside&&this.setState({tooltipOpen:!1})},y)},this.sendEvent=e=>{this.props.sendEvent(t=>{const s=b.defaults(t);return{source:"meta",action:e,noun:"emote",...s,actionInfo:{...s.actionInfo,reason:this.props.node.id},subreddit:b.subreddit(t)}})}}render(){const{node:e,media:t}=this.props;let s,n,r;t.e===p.s?(s=t.s.x,n=t.s.y,r=t.s.u):t.e===p.r&&(s=t.s.x,n=t.s.y,r=t.s.gif);const i=this.state.tooltipOpen?l()():void 0;return r?o.a.createElement("div",{className:f.a.container,onClick:this.onClick,onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseOut},o.a.createElement("img",{id:i,src:r,width:s,height:n,title:`:${Object(m.b)(e.id)}:`}),this.state.tooltipOpen&&o.a.createElement(x,{isOpen:!0,emoteId:e.id,targetPosition:["left","bottom"],tooltipId:i,tooltipPosition:["left","top"]})):null}}var O=Object(u.c)(C),v=s("./src/reddit/components/RichTextJson/media.tsx"),k=s("./src/reddit/components/RichTextJson/SpoilerText.tsx"),j=s("./src/reddit/components/SubredditMention/index.tsx"),S=s("./src/reddit/helpers/richTextJson/index.ts");const w=(e,t,s)=>{const n=e.c||[],r=e.l,i=[],a=n.length;for(let o=0;o<a;o++){const e=n[o];i.push(e.e===p.w?e.t:D(e,t,o))}const c=d.w[r-1];return o.a.createElement(c,{key:s},i)},T=e=>o.a.createElement(d.e,{key:e}),P=(e,t,s,n)=>{const r=e.c;if(!r)return;const i=r.length,a=[];for(let o=0;o<i;o++)a.push(L(r[o],t,s,o));return o.a.createElement(d.c,{key:n},a)},I=(e,t)=>{const s=e.c;return o.a.createElement(d.k,{key:t},o.a.createElement(d.h,null,s.reduce((e,t,s,n)=>e+=t.t+(s<n.length?"\n":""),"")))},N=(e,t,{renderingObjectInfo:s},n)=>{const r=e.c,i=[],a=r.length;for(let l=0;l<a;l++){const e=r[l].c;e&&e.length&&i.push(o.a.createElement(d.g,{key:l},e.map((e,n)=>L(e,t,{renderingObjectInfo:s},n))))}const c=e.o?d.i:d.v;return o.a.createElement(c,{key:n},i)},L=(e,t,s,n)=>{switch(e.e){case p.b:return P(e,t,s,n);case p.c:return I(e,n);case p.k:return w(e,s,n);case p.l:return T(n);case p.p:return N(e,t,s,n);case p.u:return M(e,t,s,n);case p.z:return B(e,t,s,n)}},B=(e,t,s,n)=>{const r=e.c,i=e.h,a=r.length,c=i.length,l=[],u=[],m=[];for(let d=0;d<c;d++){const e=i[d],{H:n,D:r}=H(e.a),{c:a=[]}=e;l.push(o.a.createElement(n,{key:d},F(a,t,s))),m[d]=r}for(let p=0;p<a;p++){const e=r[p],n=e.length,i=[];for(let r=0;r<n;r++){const n=m[r],{c:a=[]}=e[r];i.push(o.a.createElement(n,{key:r},F(a,t,s)))}u.push(o.a.createElement(d.t,{key:p},i))}return o.a.createElement(d.n,{key:n},o.a.createElement("thead",null,o.a.createElement(d.t,null,l)),o.a.createElement("tbody",null,u))},M=(e,t,s,n)=>{if(!e.c||!e.c.length)return(e=>o.a.createElement(d.j,{key:e},o.a.createElement("br",null)))(n);const r=e.c[0];return r.e!==p.m&&r.e!==p.a||!Object(S.e)(r.id)?o.a.createElement(d.j,{key:n},F(e.c,t,s)):Object(v.b)(r,n,t)},F=(e,t,s)=>{const n=[],r=e.length;for(let i=0;i<r;i++){const r=e[i];if(r.e===p.A)n.push(R(r,i));else if(r.e===p.x)n.push(o.a.createElement(k.a,{key:i},F(r.c,t,s)));else if(r.e===p.n)n.push(o.a.createElement("br",{key:i}));else if(r.e===p.m||r.e===p.a){if(r.id.startsWith("emote|")){const e=p.E(t,r.id);e&&n.push(o.a.createElement(O,{key:i,node:r,media:e}))}}else n.push(D(r,s,i))}return n},D=(e,t,s)=>{switch(e.e){case p.o:return o.a.createElement(d.a,{href:e.u,key:s,title:e.a},R({t:e.t,f:e.f},0));case p.y:return o.a.createElement(j.b,{key:s,rtJsonElementProps:t,subredditName:e.t});case p.B:case p.C:return o.a.createElement(d.a,{href:`/u/${e.t}/`,key:s},`${e.l?"/":""}u/${e.t}`);case p.g:case p.v:return o.a.createElement(d.a,{href:e.t,key:s},e.t)}},R=(e,t)=>{const{f:s,t:r}=e,i=[];if(!s)return U(0,r,t);const a=Object(n.a)(r);let o=0,d=0;const c=s.length;for(;o<c;o++){const[e,t,n]=s[o],c=t+n,l=a[t],u=a[c]-l;l>d&&i.push(U(0,r.substr(d,l-d),`between${o}`)),i.push(U(e,r.substr(l,u),o)),d=l+u}return d<r.length&&i.push(U(0,r.substr(d),`remaining${o}`)),i},A={[p.j.monospace]:d.h,[p.j.bold]:d.b,[p.j.italic]:d.f,[p.j.underline]:d.u,[p.j.strikethrough]:d.d,[p.j.subscript]:d.l,[p.j.superscript]:d.m},U=(e,t,s)=>{let n=t;return n=i()(A,(t,n,r)=>e&parseInt(r,10)?o.a.createElement(n,{key:s},t):t,n)},H=e=>{switch(e){case p.f:return{H:d.r,D:d.q};case p.d:return{H:d.r,D:d.o};case p.e:default:return{H:d.r,D:d.p}}}},"./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/Post/index.m.less":function(e,t,s){e.exports={bodyWrapper:"TRQWddBXkEbkcG_ubUuna",mediaWrapper:"_1Gl3uwbMHh5VhlU0JATHu0",textWrapper:"YH565aQWcKKY53qc9qHsm",metaWrapper:"_232eNhzD3iKHOssx14WnYG",thumbnail:"_3ot5Uav1x5Oa8hH19Mlogk",trendingPost:"_3GfG_jvS9X-90Q_8zU4uCu","m-background":"_3Y1KnhioRYkYGb93uAKhBZ",mBackground:"_3Y1KnhioRYkYGb93uAKhBZ",flatlist:"_2i5CgtwVkYOwV-M92BNHuo",title:"_10WwrR6QeKoqfxT3UBj0Qq",titleNoDescription:"_2RETtzv0N74uYf3vCRgQsj",spacer:"dnGYcjdXDdH17kki2-FYy",description:"_2Jjv0TAohMSydVpAgyhjhA",flexSpacer:"_2X1uOOj7bjYyM2hV3o5Eou",flair:"_1efPRBcLSuPJJM0TacTA5c",meta:"_363wpVC6QeLO7Vq0SwQcOg",backgroundWrapper:"_3HD3Y7jXWPyFxKKnIJCHq3",innerContainer:"_UTUAdpYopauDszuTA48r",relatedSubredditMetaData:"_2JhihdjWU24No-68VLJ7D-",subredditIcon:"_2Gqx0g4kdUGTdMQSR1fSfC",promoted:"_24W4uRK86b7o0CPxNTzhIW"}},"./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/Post/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/polished/dist/polished.es.js"),i=s("./node_modules/react/index.js"),a=s.n(i),o=s("./src/lib/addQueryParams/index.ts"),d=s("./src/lib/classNames/index.ts"),c=s("./src/lib/CSSVariableProvider/withTheme.tsx"),l=s("./src/lib/permalinkToOverlayLocation/index.ts"),u=s("./src/lib/prettyPrintNumber/index.ts"),m=s("./src/reddit/components/FlairWrapper/index.tsx"),p=s("./src/reddit/components/TrendingSearches/TrendingItemViewability.tsx"),b=s("./src/reddit/connectors/miniCardPost.ts"),h=s("./src/reddit/contexts/PageLayer/index.tsx"),x=s("./src/reddit/controls/InternalLink/index.tsx"),g=s("./src/reddit/controls/Search/RelatedSubredditMetaData.tsx"),f=s("./src/reddit/helpers/name/index.ts"),E=s("./src/reddit/models/Flair/index.ts"),y=s("./src/reddit/models/Theme/index.ts"),_=s("./src/reddit/models/Theme/NewColorSystem/index.ts"),C=s("./src/reddit/components/MiniCardPost/index.m.less"),O=s.n(C),v=s("./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/Post/index.m.less"),k=s.n(v);const j=e=>e.type===E.f.Spoiler,S=Object(h.t)();t.a=S(Object(b.a)(Object(c.a)(e=>{const{backgroundWrapperClassName:t,descriptionClassName:s,id:i,innerContainerClassName:c,onPostClick:b,trendingPost:h,trendingSearch:E,shouldOpenPost:C,showSubredditMeta:v=!0,showSubredditName:S,subredditOrProfile:w}=e,T=h&&h.preview&&h.preview.url||void 0,P=h&&h.isSponsored?"promoted_trend":"trending",I=h&&Object(l.a)(h.permalink)||"",N=C&&I||E&&Object(o.a)("/search",{q:E.rawQuery,source:P})||I,L=E?E.subredditInfo&&E.subredditInfo.icon:w&&w.icon.url,B=E?E.subredditInfo&&E.subredditInfo.displayText:w&&(w.displayText||w.name),M=h?h.flair.filter(j):[],F=h?h.score:0,D=h?h.numComments:0,R=h&&h.isSponsored,A=Object(_.a)(e).body,U=`linear-gradient(\n      ${Object(r.g)(A,.2)},\n      ${Object(r.g)(A,.3)},\n      ${Object(r.g)(A,.4)},\n      ${Object(r.g)(A,.6)},\n      ${Object(r.g)(A,.8)},\n      ${A}\n    )`,H=a.a.createElement("div",{id:i,className:Object(d.a)(k.a.trendingPost,{[k.a["m-background"]]:!!T})},a.a.createElement(x.a,{to:N},a.a.createElement("div",{className:Object(d.a)(k.a.backgroundWrapper,O.a.backgroundWrapper,t),style:{background:Object(y.g)(Object(_.a)(e).body,T||Object(_.a)(e).banner.backgroundImage,"cover"),"--SearchDiscoveryUnits-TrendingPosts-Post-background":U}},R&&a.a.createElement("div",{className:k.a.promoted},n.fbt._("promoted",null,{hk:"1mLJfa"})),a.a.createElement("div",{className:Object(d.a)(k.a.innerContainer,O.a.innerContainer,c),onClick:b,title:h?h.title:""},a.a.createElement("h2",{className:h?k.a.title:k.a.titleNoDescription},e.title),h?a.a.createElement("div",{className:Object(d.a)(k.a.description,s)},M.length>0&&a.a.createElement(m.a,{className:k.a.flair,titleFlair:M,nowrap:!0,post:h,showCategoryTag:!1}),h.title):a.a.createElement("div",{className:k.a.spacer}),v&&L&&B&&a.a.createElement(g.a,{className:k.a.relatedSubredditMetaData,iconClassName:k.a.subredditIcon,iconUrl:L||void 0,suffix:n.fbt._("{subredditName} and more",[n.fbt._param("subredditName",B)],{hk:"2YTyJf"})}),!v&&h&&a.a.createElement("div",{className:k.a.metaLine},S&&B&&a.a.createElement("span",{className:k.a.meta},Object(f.c)(B)),a.a.createElement("span",{className:k.a.meta},n.fbt._({"*":"{number} points",_1:"1 point"},[n.fbt._plural(F,"number",Object(u.b)(F))],{hk:"1Jm6il"})),a.a.createElement("span",{className:k.a.meta},n.fbt._({"*":"{number} comments",_1:"1 comment"},[n.fbt._plural(D,"number",Object(u.b)(D))],{hk:"311aXY"})))))));return R?a.a.createElement(p.a,{post:h},H):H})))},"./src/reddit/components/SidebarAd/ListingPageSidebarAd.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./node_modules/react-redux/es/index.js"),a=s("./src/reddit/contexts/PageLayer/index.tsx"),o=s("./src/reddit/selectors/brandSafety.ts"),d=s("./src/reddit/selectors/experiments/adsCardViewHoldout.ts"),c=s("./src/reddit/selectors/user.ts"),l=s("./src/reddit/components/SidebarAd/BaseSidebarAdDoNotUseOrYoureFired.tsx");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const m=Object(a.t)();t.a=m(Object(i.b)((e,{listingName:t,pageLayer:s})=>{const n=Object(o.b)(e,{listingName:t,pageLayer:s}),r=Object(c.A)(e)||Object(d.a)(e),i=Object(o.e)(e);return{canShowAd:n&&!r,forcePlaceholder:!Object(o.c)(e),isAdsDisabled:r,viewIsUnsafe:i}})(({canShowAd:e,isAdsDisabled:t,viewIsUnsafe:s,pageLayer:n,...i})=>!t&&e&&n?r.a.createElement(l.a,u({forceHouseAd:s},i)):null))},"./src/reddit/components/SidebarPostList/SmallPost/index.m.less":function(e,t,s){e.exports={container:"_2Wmv4UCfYcoQRIQ7DR-8e0",title:"_1ZcONreWbFJQojnbZ7ZkiL",redditStyle:"_1ggvQDlV2MNRE0-n1WzILz",mainLine:"_3cuOT24TIop8Fh5DSts5E",thumbnailContainer:"_3fpi7LgBdg5MRE8fUA1fUO",titleSingle:"_3fZTKIoM8CcO5vNlGhJhcO",flair:"_1Cs6tR96P3hmYwreAY1R50",metaLine:"_1DGZ9-YDQE3YM0S99RbxE-",meta:"_2LPptzmLnsGYCvTOkdxjs-"}},"./src/reddit/components/SidebarPostList/index.m.less":function(e,t,s){e.exports={container:"_2K-Su893lCn5wiAfwsyN_l",largePostBackgroundWrapper:"_34WXoo5OYSyzgryGEzGK7K",largePostDescription:"_2m8gRHpmUg1pl7zoge-EZr",largePostInnerContainer:"_1dMiuQc05SF7vBB-4UrKVJ",smallPost:"v6T3Dl7XBqOqskg3JfuUz",SeeMore:"_5LqPadYZq-K1Mqq5FXV0",seeMore:"_5LqPadYZq-K1Mqq5FXV0"}},"./src/reddit/components/SidebarSpacer/index.m.less":function(e,t,s){e.exports={Component:"_2vEf-C2keJaBMY9qk_BxVn",component:"_2vEf-C2keJaBMY9qk_BxVn"}},"./src/reddit/components/SidebarSpacer/index.tsx":function(e,t,s){"use strict";var n=s("./src/reddit/components/SidebarSpacer/index.m.less"),r=s.n(n),i=s("./src/lib/lessComponent.tsx");t.a=i.a.div("Component",r.a)},"./src/reddit/components/SubredditIcon/EditableSubredditIcon.tsx":function(e,t,s){"use strict";var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),i=s.n(r),a=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/reselect/es/index.js"),d=s("./src/lib/classNames/index.ts"),c=s("./src/reddit/actions/subreddit/inlineEditing.ts"),l=s("./src/reddit/components/TrackingHelper/index.tsx"),u=s("./src/reddit/controls/ImageInput/index.tsx"),m=s("./src/reddit/controls/LoadingIcon/index.tsx"),p=s("./src/reddit/helpers/getSubredditOrProfileIconData/index.tsx"),b=s("./src/reddit/helpers/trackers/inlineSubredditEditing.ts"),h=s("./src/reddit/icons/svgs/Plus/index.tsx"),x=s("./src/reddit/icons/svgs/Upload/index.tsx"),g=s("./src/reddit/models/ApiRequestState/index.ts"),f=s("./src/reddit/selectors/inlineSubredditEditing.ts"),E=s("./src/reddit/components/SubredditIcon/index.m.less"),y=s.n(E);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}class C extends i.a.Component{constructor(e){super(e)}render(){const{subredditId:e,className:t,inTopBar:s,...n}=this.props,r=[t,y.a.inTopBar,y.a.iconContainer];return s?r.push(y.a.emptyEditableIconInTopBar):r.push(y.a.editableIcon,y.a.emptyEditableIcon),i.a.createElement("span",_({},n,{className:Object(d.a)(...r)}),s?i.a.createElement(x.a,{className:y.a.emptyUploadButton}):i.a.createElement(h.a,{className:y.a.emptyPlusButton}),this.props.children)}}const O=e=>{const{iconColor:t,className:s,alt:n,role:r,onClick:a,inTopBar:o,src:c}=e;return i.a.createElement("span",{className:y.a.iconContainer},i.a.createElement("img",{alt:n,onClick:a,role:r,src:c,className:Object(d.a)(s,{[y.a.editableIcon]:!o}),style:{backgroundColor:t||""}}),e.children)},v=Object(o.c)({isLoading:f.b});class k extends i.a.PureComponent{constructor(e){super(e),this.inputRef=null,this.openImageUpload=()=>{this.inputRef&&this.inputRef.click(),this.props.sendEvent(b.b)},this.setInputRef=e=>this.inputRef=e,this.renderImageUploader=()=>i.a.createElement(u.a,{className:y.a.imageUploader,inputRef:this.setInputRef,multiple:!1,onChange:e=>{const t=Object(g.b)();this.setState({apiRequestId:t}),this.props.onFileSelected(e,t)}}),this.state={apiRequestId:null}}renderEditButton(){const{url:e}=Object(p.a)({shouldHideNsfwIcon:!1,subredditOrProfile:this.props.subreddit});return this.props.inTopBar?i.a.createElement("span",{className:y.a.clickableUploadText,onClick:this.openImageUpload},e?n.fbt._("Update icon",null,{hk:"3zlPxT"}):n.fbt._("Add icon",null,{hk:"1bbdMV"})):null}getSharedProps(){return{onClick:this.openImageUpload,role:"presentation",className:this.props.className}}renderEditableIcon(){const{url:e,color:t}=Object(p.a)({shouldHideNsfwIcon:!1,subredditOrProfile:this.props.subreddit}),s=i.a.createElement(i.a.Fragment,null,i.a.createElement(O,_({alt:n.fbt._("Subreddit icon",null,{hk:"1oOA0s"}),src:e,iconColor:t,inTopBar:this.props.inTopBar},this.getSharedProps()),this.renderSpinner()),this.renderImageUploader());return this.props.linkTo?i.a.createElement("a",{href:this.props.linkTo},s):s}renderEmptyState(){return this.props.linkTo?i.a.createElement("a",{href:this.props.linkTo},i.a.createElement(C,_({subredditId:this.props.subreddit.id,inTopBar:this.props.inTopBar},this.getSharedProps()),this.renderSpinner()),this.renderImageUploader()):i.a.createElement(i.a.Fragment,null,i.a.createElement(C,_({subredditId:this.props.subreddit.id,inTopBar:this.props.inTopBar},this.getSharedProps()),this.renderSpinner()),this.renderImageUploader())}renderSpinner(){if(this.props.isLoading){const e=[y.a.loadingIcon];let t=22;return this.props.inTopBar&&(e.push(y.a.loadingIconInTopBar),t=32),i.a.createElement(m.a,{className:Object(d.a)(...e),sizePx:t})}return null}render(){const{url:e}=Object(p.a)({shouldHideNsfwIcon:!1,subredditOrProfile:this.props.subreddit}),t=e?this.renderEditableIcon():this.renderEmptyState(),s=this.renderEditButton();return s?i.a.createElement("div",{className:y.a.flexContainer},t,s):t}}t.a=Object(a.b)(v,(e,t)=>({onFileSelected:(s,n)=>{e(Object(c.a)(t.subreddit,s,n))}}))(Object(l.c)(k))},"./src/reddit/components/SubredditMention/SubredditIcon/index.m.less":function(e,t,s){e.exports={S:"Zwo7CZoszMU6kBYhWyIC7",s:"Zwo7CZoszMU6kBYhWyIC7",SubredditIcon:"_33bYVIxJlbFcqiiYlexnqp",subredditIcon:"_33bYVIxJlbFcqiiYlexnqp"}},"./src/reddit/components/SubredditMention/SubredditIcon/index.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return u})),s.d(t,"a",(function(){return m}));var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/lib/lessComponent.tsx"),a=s("./src/reddit/components/SubredditIcon/index.tsx"),o=s("./src/reddit/controls/OutboundLink/index.tsx"),d=s("./src/reddit/components/SubredditMention/SubredditIcon/index.m.less"),c=s.n(d);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const u=i.a.wrapped(a.b,"SubredditIcon",c.a),m=i.a.wrapped(e=>r.a.createElement(o.b,l({},e,{isSponsored:!1,source:null})),"S",c.a)},"./src/reddit/components/SubredditMention/SubredditIconsWeighting/index.m.less":function(e,t,s){e.exports={topPostsTitle:"_2Pw8j7a2DYkjTDOFbIdODA",hovercardStyle:"_2ktYI4-r7C-HaMk9ulbwog",top:"_3rKUrAbYNFvE7-nMDs6lwZ",subredditMentionContainer:"_1e2szH8g0XMMM_EuCN8Olk",subredditIconContainer:"_3kpwADnYG-SH40aaSdX3ZE"}},"./src/reddit/components/SubredditMention/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return C}));var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),o=s("./src/reddit/components/RichTextJson/elements.tsx"),d=s("./src/higherOrderComponents/makeAsync.tsx"),c=s("./src/lib/loadWithRetries/index.ts"),l=s("./src/reddit/components/SubredditMention/SubredditIcon/index.tsx"),u=s("./src/reddit/components/SubredditMention/SubredditIconsWeighting/index.m.less"),m=s.n(u);var p=Object(d.a)({ErrorComponent:()=>null,getComponent:()=>Object(c.a)(()=>s.e("SubredditMentionWithIcon").then(s.bind(null,"./src/reddit/components/SubredditMention/SubredditIconsWeighting/index.tsx"))).then(e=>e.default),LoadingComponent:({subredditName:e})=>r.a.createElement("span",{className:m.a.subredditMentionContainer},r.a.createElement(l.a,{href:`/r/${e}/`},r.a.createElement("span",{className:m.a.subredditIconContainer},r.a.createElement(l.b,null)),`r/${e}`))}),b=s("./src/reddit/components/TrackingHelper/index.tsx"),h=s("./src/reddit/constants/experiments.ts"),x=s("./src/reddit/helpers/trackers/subredditMentions.ts"),g=s("./src/reddit/selectors/subredditMention.ts");class f extends r.a.PureComponent{constructor(){super(...arguments),this.handleOnClick=()=>{const{rtJsonElementProps:e,sendEvent:t,subredditName:s}=this.props;t(Object(x.a)({...e,subredditName:s}))}}render(){const{subredditName:e}=this.props;return r.a.createElement(o.a,{onClick:this.handleOnClick,href:`/r/${e}/`},`r/${e}`)}}const E=Object(b.c)(f),y=Object(a.c)({isFeatureFlagEnabled:g.b,isUserInTreatment:g.e,userVariant:g.a}),_=Object(i.b)(y),C=({isFeatureFlagEnabled:e,isUserInTreatment:t,subredditName:s,userVariant:n,rtJsonElementProps:i})=>{if(!t||!e)return r.a.createElement(E,{subredditName:s,rtJsonElementProps:i});switch(n){case h.Pc.SmIcon:return r.a.createElement(p,{subredditName:s,rtJsonElementProps:i});case h.Pc.SmIconHc:return r.a.createElement(p,{subredditName:s,isHoverable:!0,rtJsonElementProps:i});default:return r.a.createElement(E,{subredditName:s,rtJsonElementProps:i})}};t.b=_(C)},"./src/reddit/components/SubredditSidebar/index.m.less":function(e,t,s){e.exports={card:"_3vSqxw1Wwy_x8wRt_oGTh3",inFeedAd:"_3GFX6ArnoTLL_9fE1ptGiO"}},"./src/reddit/components/SubredditSidebar/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/lodash/isEqual.js"),i=s.n(r),a=s("./node_modules/react/index.js"),o=s.n(a),d=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/reselect/es/index.js"),l=s("./src/lib/constants/index.ts"),u=s("./src/lib/lessComponent.tsx"),m=s("./src/reddit/components/Econ/PredictionLeaderboard/Sidebar/async.ts"),p=s("./src/reddit/components/Economics/SubredditPremium/SidebarCards/async.tsx"),b=s("./src/reddit/components/Governance/CommunityCard/async.tsx"),h=s("./src/reddit/components/Governance/Leaderboard/async.tsx"),x=s("./src/reddit/components/IdCard/async.tsx"),g=s("./src/lib/isFakeSubreddit/index.ts"),f=s("./src/reddit/components/IdCard/helpers.ts"),E=e=>!Object(g.a)(e)||Object(f.c)(e)||Object(f.d)(e)||Object(f.e)(e),y=s("./src/reddit/components/JSAPIContainers/index.tsx"),_=s("./src/reddit/components/PowerupsSidebar/index.tsx"),C=s("./src/reddit/components/SidebarAd/ListingPageSidebarAd.tsx"),O=s("./src/reddit/components/SidebarContainer/index.tsx"),v=s("./src/reddit/components/SidebarSpacer/index.tsx"),k=s("./src/reddit/components/SidebarStickyBottom/index.tsx"),j=s("./src/lib/makeListingKey/index.ts"),S=s("./src/reddit/actions/subreddit.ts"),w=s("./src/lib/classNames/index.ts"),T=s("./src/reddit/components/SearchDiscoveryUnits/TrendingPosts/Post/index.tsx"),P=s("./src/reddit/controls/Button/index.tsx"),I=s("./src/reddit/helpers/name/index.ts"),N=s("./src/reddit/helpers/overlay/index.ts"),L=s("./src/reddit/selectors/experiments/topPosts.ts"),B=s("./src/reddit/selectors/posts.ts"),M=s("./node_modules/@researchgate/react-intersection-observer/lib/es/index.js");const F=.99;class D extends o.a.Component{constructor(){super(...arguments),this.onVisibilityChange=e=>{const{onPostVisible:t,postId:s}=this.props;t&&e.isIntersecting&&e.intersectionRatio>=F&&t(s)}}render(){return o.a.createElement(M.a,{threshold:F,rootMargin:"0px 0px 0px 0px",onChange:this.onVisibilityChange},this.props.children)}}var R=D,A=s("./src/lib/isUrl/index.ts"),U=s("./src/lib/prettyPrintNumber/index.ts"),H=s("./src/reddit/components/FlairWrapper/index.tsx"),W=s("./src/reddit/components/Thumbnail/index.tsx"),V=s("./src/reddit/models/Flair/index.ts"),J=s("./src/reddit/models/Subreddit/index.ts"),K=s("./src/reddit/components/SidebarPostList/SmallPost/index.m.less"),q=s.n(K);const{fbt:Y}=s("./node_modules/fbt/lib/FbtPublic.js"),G=e=>e.type===V.f.Nsfw||e.type===V.f.Spoiler,z=Object(c.c)({post:B.O,subredditOrProfile:B.bb});class Q extends o.a.PureComponent{constructor(){super(...arguments),this.onClickContainer=()=>{const{openLightbox:e,post:t,containerOnClick:s}=this.props;e(t),s&&s(t.id)},this.onClickThumbnail=e=>{const{post:t,thumbnailOnClick:s}=this.props;e.stopPropagation(),s&&s(t.id)}}render(){const{className:e,post:t,redditStyle:s,showSubredditName:n,subredditOrProfile:r}=this.props,i={post:t},a=Object(A.a)(Object(W.b)(i)),d=t.flair.filter(G);return o.a.createElement("div",{className:Object(w.a)(q.a.container,e,{[q.a.redditStyle]:s}),onClick:this.onClickContainer},o.a.createElement("div",{className:q.a.mainLine},a&&o.a.createElement("div",{className:q.a.thumbnailContainer,onClick:this.onClickThumbnail},o.a.createElement(W.a,i)),o.a.createElement("div",{className:Object(w.a)(q.a.title,!a&&q.a.titleSingle),title:t.title},d.length>0&&o.a.createElement(H.a,{className:q.a.flair,titleFlair:d,nowrap:!0,post:t,showCategoryTag:!1}),t.title)),o.a.createElement("div",{className:q.a.metaLine},n&&!!r&&o.a.createElement("span",{className:q.a.meta},Object(J.g)(r)?Object(I.d)(r.displayText||r.name):Object(I.c)(r.displayText||r.name)),o.a.createElement("span",{className:q.a.meta},Y._({"*":"{score} points",_1:"1 point"},[Y._plural(t.score,"score",Object(U.b)(t.score))],{hk:"1JZ0qm"})),o.a.createElement("span",{className:q.a.meta},Y._({"*":"{numComments} comments",_1:"1 comment"},[Y._plural(t.numComments,"numComments",Object(U.b)(t.numComments))],{hk:"2UbjdS"}))))}}var X=Object(d.b)(z,e=>({openLightbox:t=>e(Object(N.a)(t.permalink))}),null,{forwardRef:!0})(Q),Z=s("./src/reddit/selectors/experiments/econ/predictions.ts"),$=s("./src/reddit/components/SidebarPostList/index.m.less"),ee=s.n($);const{fbt:te}=s("./node_modules/fbt/lib/FbtPublic.js"),se=10,ne=2,re=Object(c.a)(B.U,e=>e.filter(e=>!e.isSponsored)),ie=Object(c.c)({posts:(e,t)=>re(e,{...t,predictionsEnabled:Object(Z.c)(e)})});class ae extends o.a.Component{constructor(){super(...arguments),this.state={chunkIdx:0},this.openLargePost=()=>{const{onPostClick:e,openPost:t,posts:s}=this.props,[n]=s;n&&(t(n),e&&e(n.id))},this.getVisiblePostsCounts=()=>this.props.visiblePostsCount||se,this.showMorePosts=()=>{let e;const t=this.getVisiblePostsCounts();this.setState((s,n)=>(e=Math.ceil(n.posts.length/t),{chunkIdx:s.chunkIdx<e-1?s.chunkIdx+1:0}),()=>{this.props.onShowMoreClick&&this.props.onShowMoreClick(this.state.chunkIdx,e)})},this.renderSmallPost=e=>{const{listingName:t,onPostClick:s,onPostVisible:n,redditStyle:r,smallPostClassName:i}=this.props;return o.a.createElement(R,{key:e.id,onPostVisible:n,postId:e.id},o.a.createElement(X,{className:Object(w.a)(ee.a.smallPost,i),containerOnClick:s,postId:e.id,redditStyle:r,showSubredditName:Object(g.a)(Object(I.g)(t)),thumbnailOnClick:s}))}}render(){const{children:e,className:t,listingName:s,moreButtonText:n,onPostVisible:r,posts:i,redditStyle:a,showMoreButton:d,topPostsVariant:c}=this.props,{chunkIdx:l}=this.state;if(0===i.length)return null;const u=this.getVisiblePostsCounts(),m=Object(L.a)(c),p=Object(L.b)(c),b=m||p,h=i.slice(l*u,(l+1)*u),[x,...f]=h,E=b?h.slice(0,ne):f.slice(0,ne),y=b?h.slice(ne):f.slice(ne);return o.a.createElement("div",{className:Object(w.a)(ee.a.container,t,{[ee.a.redditStyle]:a})},!b&&o.a.createElement(R,{onPostVisible:r,postId:x.id},o.a.createElement(T.a,{backgroundWrapperClassName:ee.a.largePostBackgroundWrapper,descriptionClassName:ee.a.largePostDescription,innerContainerClassName:ee.a.largePostInnerContainer,"data-redditstyle":a,onPostClick:this.openLargePost,postId:x.id,showSubredditMeta:!1,showSubredditName:Object(g.a)(Object(I.g)(s)),trendingPost:x})),E.map(this.renderSmallPost),e,y.map(this.renderSmallPost),d&&o.a.createElement(P.o,{className:ee.a.SeeMore,onClick:this.showMorePosts},n||te._("See More",null,{hk:"Dh2zQ"})))}}var oe=Object(d.b)(ie,e=>({openPost:t=>e(Object(N.a)(t.permalink))}))(ae),de=s("./src/reddit/components/TrackingHelper/index.tsx"),ce=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),le=s("./src/reddit/helpers/trackers/discoveryUnit.ts"),ue=s("./src/reddit/models/DiscoveryUnit/index.ts"),me=s("./src/reddit/selectors/discoveryUnit.ts"),pe=s("./src/reddit/selectors/subreddit.ts"),be=s("./src/reddit/components/TopPostsWidgets/TopWeekPosts/index.m.less"),he=s.n(be);const xe=10,ge=Object(c.a)((e,t)=>t.subredditName,e=>Object(j.a)(e,l.P.TOP,{t:l.Ub.WEEK})),fe=Object(c.c)({discoveryUnit:e=>Object(me.c)(e,{unitName:ue.j}),listingKey:ge,posts:(e,t)=>{const s=ge(e,t);return Object(B.U)(e,{listingKey:s,predictionsEnabled:Object(Z.c)(e)})},subreddit:pe.A});class Ee extends o.a.Component{constructor(){super(...arguments),this.trackViewed=()=>{const{discoveryUnit:e,subreddit:t}=this.props;e&&this.props.sendEvent(Object(le.h)(e,t))},this.trackPostClicked=e=>{const{discoveryUnit:t,subreddit:s}=this.props;t&&this.props.sendEvent(Object(le.x)(t,e,void 0,s))},this.trackPostViewed=e=>{const{discoveryUnit:t,subreddit:s}=this.props;t&&this.props.sendEvent(Object(le.C)(t,e,void 0,s))}}componentDidMount(){this.trackViewed()}render(){const{children:e,className:t,listingKey:s,loadMorePosts:r,posts:i,subredditName:a,topPostsVariant:d}=this.props;if(0===i.length)return null;const c=a,l=i.length>xe;return o.a.createElement(ce.a,{className:t,contentOnly:!0,redditStyle:!0,title:n.fbt._("Top posts this week",null,{hk:"2fRgOZ"})},o.a.createElement(oe,{listingKey:s,listingName:c,onShowMoreClick:r,onPostClick:this.trackPostClicked,onPostVisible:this.trackPostViewed,smallPostClassName:he.a.smallPost,showMoreButton:l,topPostsVariant:d},o.a.createElement("div",null,e)))}}var ye=Object(d.b)(fe,(e,{subredditName:t})=>({loadMorePosts:()=>e(Object(S.r)({sort:l.P.TOP,subredditName:t,t:l.Ub.WEEK}))}))(Object(de.c)(Ee)),_e=s("./src/config.ts"),Ce=s("./src/lib/localStorageAvailable/index.ts"),Oe=s("./src/reddit/actions/modal.ts"),ve=s("./src/higherOrderComponents/asModal/index.tsx"),ke=s("./src/reddit/components/ModalStyledComponents/index.tsx"),je=s("./src/reddit/controls/TextButton/index.tsx"),Se=s("./src/reddit/layout/twoCol/ExpandLeft/index.tsx");const{fbt:we}=s("./node_modules/fbt/lib/FbtPublic.js");class Te extends o.a.Component{render(){const{props:e}=this;return o.a.createElement(ke.d,null,o.a.createElement(ke.h,null,o.a.createElement(Se.a,null,o.a.createElement(ke.p,null,we._("Dismiss moderator onboarding checklist",null,{hk:"2NonB8"})),o.a.createElement(je.a,{onClick:e.toggleModal},o.a.createElement(ke.b,null)))),o.a.createElement(ke.k,null,o.a.createElement(ke.o,null,we._("Are you sure you would like to dismiss the moderator checklist? You can still stylize your community once it is dismissed. Only moderators can view and interact with this checklist.",null,{hk:"4ubHRZ"}))),o.a.createElement(ke.f,null,o.a.createElement(ke.a,{onClick:e.toggleModal,"data-redditstyle":!0},we._("Cancel",null,{hk:"2TSLl5"})),o.a.createElement(ke.q,{onClick:e.onCloseModOnboarding,"data-redditstyle":!0},we._("Confirm",null,{hk:"16mIEx"}))))}}var Pe=Object(ve.a)(Te),Ie=s("./src/reddit/components/IdCard/Banner.tsx"),Ne=s("./src/reddit/components/IdCard/renderFakeSubredditTitle.tsx"),Le=s("./src/reddit/constants/blade.ts"),Be=s("./src/reddit/controls/InternalLink/index.tsx"),Me=s("./src/reddit/helpers/localStorage/index.ts"),Fe=s("./src/reddit/helpers/trackers/modOnboarding.ts"),De=s("./src/reddit/icons/svgs/CircleCheck/index.tsx"),Re=s("./src/reddit/icons/svgs/Close/index.tsx"),Ae=s("./src/reddit/models/ModeratingSubreddits/index.ts"),Ue=s("./src/reddit/selectors/activeModalId.ts"),He=s("./src/reddit/selectors/moderatorPermissions.ts"),We=s("./src/reddit/selectors/structuredStyles.ts"),Ve=s("./src/reddit/components/IdCard/index.m.less"),Je=s.n(Ve),Ke=s("./src/reddit/components/Widgets/ModeratorOnboarding/index.m.less"),qe=s.n(Ke);const Ye="mod_onboarding_modal",Ge="mod_onboarding_widget",ze=Object(c.a)(Ue.a,(e,t)=>Object(He.a)(Ae.c.config)(e,{subredditId:t.subredditId}),(e,t)=>Object(We.k)(e,{subredditId:t.subredditId}),(e,t,s)=>({activeModalId:e,hasModeratorPermissions:t,modHasEditedBanner:!s||!!(s.bannerBackgroundImage||s.bannerHeight||s.bannerPositionedImage||s.bannerBackgroundColor),modHasEditedColors:!s||!!(s.primaryColor||s.highlightColor||s.backgroundColor||s.backgroundImage),modHasEditedIcon:!s||(!!s.communityIcon||!!s.bannerShowCommunityIcon)}));class Qe extends o.a.Component{constructor(e){super(e),this.confirmCloseModOnboarding=()=>{this.props.toggleCloseMenuModal(),this.setState({visible:!1}),Object(Me.jb)(Ge,!0,this.props.subredditId),this.props.sendEvent(Object(Fe.d)("close"))},this.customizeThemeColors=()=>{this.props.sendEvent(Object(Fe.d)("theme_colors_link"))},this.customizeIcon=()=>{this.props.sendEvent(Object(Fe.d)("icon_link"))},this.customizeBannerImage=()=>{this.props.sendEvent(Object(Fe.d)("banner_image_link"))},this.customizeAppearance=()=>{this.props.sendEvent(Object(Fe.d)("styling_generic_link"))},this.state={visible:!1}}componentDidMount(){this.onUpdate()}componentDidUpdate(){this.onUpdate()}onUpdate(){const{hasModeratorPermissions:e,modHasEditedBanner:t,modHasEditedColors:s,modHasEditedIcon:n,subredditId:r}=this.props,i=e&&!(t&&s&&n)&&(!Object(Ce.a)()||!Object(Me.t)(Ge,r));i!==this.state.visible&&(this.setState({visible:i}),i&&this.props.sendEvent(Object(Fe.e)("mod_edu_banner")))}render(){const{activeModalId:e,modHasEditedBanner:t,modHasEditedColors:s,modHasEditedIcon:r,subredditName:i,toggleCloseMenuModal:a}=this.props;return this.state.visible?o.a.createElement(ce.a,{className:Object(w.a)(qe.a.container,this.props.className)},o.a.createElement(Ie.a,{bannerBackgroundImage:`${_e.a.assetPath}/img/id-cards/mod-onboarding@2x.png`}),o.a.createElement(Re.a,{className:qe.a.closeIcon,onClick:a}),Object(Ne.a)({titleText:n.fbt._("Add community style",null,{hk:"4lRD5A"}),snooBackground:Object(f.b)(`url('${_e.a.assetPath}/img/id-cards/snoo-artist@2x.png')`)}),o.a.createElement("div",{className:Object(w.a)(Je.a.Description,qe.a.description)},n.fbt._("Styling your community helps attract members. For assistance, take a look at the {=Customize Appearance Overview} . Here are some great ways to get started.",[n.fbt._param("=Customize Appearance Overview",o.a.createElement("a",{href:Le.e.exportImport,className:qe.a.modHelpLink,target:"_blank"},n.fbt._("Customize Appearance Overview",null,{hk:"11UFaE"})))],{hk:"32CnPm"})),o.a.createElement(Be.a,{to:`/r/${i}?styling=true&route=${Le.c.NameAndIcon}`,className:qe.a.link,onClick:this.customizeIcon},r?o.a.createElement(De.a,{className:qe.a.checked}):o.a.createElement(De.a,{className:qe.a.unchecked}),n.fbt._("Add community icon",null,{hk:"2C9N7j"})),o.a.createElement(Be.a,{to:`/r/${i}?styling=true&route=${Le.c.Banner}`,className:qe.a.link,onClick:this.customizeBannerImage},t?o.a.createElement(De.a,{className:qe.a.checked}):o.a.createElement(De.a,{className:qe.a.unchecked}),n.fbt._("Customize banner",null,{hk:"2w04Qn"})),o.a.createElement(Be.a,{to:`/r/${i}?styling=true&route=${Le.c.Global}`,className:qe.a.link,onClick:this.customizeThemeColors},s?o.a.createElement(De.a,{className:qe.a.checked}):o.a.createElement(De.a,{className:qe.a.unchecked}),n.fbt._("Customize colors",null,{hk:"40coBA"})),o.a.createElement(P.n,{to:`/r/${i}?styling=true`,className:qe.a.button,onClick:this.customizeAppearance},n.fbt._("Customize Appearance",null,{hk:"24k5Rj"})),o.a.createElement("div",{className:qe.a.subtext},n.fbt._("Only moderators can see this widget",null,{hk:"2a8Zbm"})),e===Ye&&o.a.createElement(Pe,{withOverlay:!0,toggleModal:a,onCloseModOnboarding:this.confirmCloseModOnboarding})):null}}var Xe=Object(d.b)(ze,(e,{subredditId:t,subredditName:s})=>({toggleCloseMenuModal:()=>e(Object(Oe.i)(Ye))}))(Object(de.c)(Qe)),Ze=s("./src/reddit/components/Widgets/CommunityList/SubredditList.tsx"),$e=s("./src/reddit/constants/tracking.ts"),et=s("./src/reddit/selectors/seo/linksModule.ts"),tt=s("./src/reddit/selectors/telemetry.ts"),st=s("./src/telemetry/models/Subreddit.ts");const nt=e=>t=>({...tt.defaults(t),action:$e.c.CLICK,noun:"link",source:"subreddit_subreddit_link",subreddit:{id:e.id,name:e.name.toLowerCase()}}),rt=e=>t=>s=>({...tt.defaults(s),action:$e.c.CLICK,noun:Object(st.getSubscribeEventNoun)(e.type,t),source:"subreddit_subreddit_link",subreddit:{id:e.id,name:e.name.toLowerCase()}}),it=Object(c.c)({communities:et.c});var at=Object(d.b)(it)(e=>{const t=Object(de.b)();return e.communities&&e.communities.length?o.a.createElement(v.a,null,o.a.createElement(Ze.b,{className:e.className,communities:e.communities,getClickEventFactory:nt,getSubscribeEventFactoryHandler:rt,sendEvent:t,title:n.fbt._("Related Communities",null,{hk:"kjl4o"})})):null}),ot=s("./src/reddit/components/Widgets/Widget/index.tsx"),dt=s("./src/reddit/featureFlags/index.ts"),ct=s("./src/reddit/helpers/createBannerProperties/index.ts"),lt=s("./src/reddit/models/Widgets/index.ts"),ut=s("./src/reddit/selectors/communityFlairs.ts"),mt=s("./src/reddit/selectors/listings.ts"),pt=s("./src/reddit/components/SubredditSidebar/index.m.less"),bt=s.n(pt);const ht=250,xt=270,gt=u.a.wrapped(O.a,"SidebarContainer",bt.a),ft=Object(c.c)({apiError:mt.c,apiPending:mt.d,communityFlairModels:(e,{subredditId:t})=>Object(ut.b)(e,t),communityFlairSortedKeys:(e,{subredditId:t})=>Object(ut.c)(e,t),isPredictionsLeaderboardsEnabled:Z.d,showGovernance:dt.d.spPoints,showLeaderboard:dt.d.spLeaderboard,showPredictionsLeaderboard:pe.M,widgets:pe.s}),Et=Object(d.b)(ft);class yt extends a.Component{constructor(e){super(e),this.getCommunityWidgets=()=>this.props.widgets.filter(e=>"post-flair"!==e.kind),this.getPostFlairWidget=()=>this.props.widgets.find(e=>"post-flair"===e.kind),this.getRelatedCommunitiesWidgetData=()=>{const{widgets:e}=this.props,t=e.find(e=>"community-list"===e.kind);if(t&&"community-list"===t.kind)return t.data},this.makeRelatedCommunitiesWidget=(e,t)=>{if(!e&&!t)return;const s=this.getRelatedCommunitiesWidgetData();return s?{id:"related-communities-widget",kind:"community-list",shortName:n.fbt._("Related Communities",null,{hk:"FmqaL"}),data:s}:void 0},this.makeFlairFilterWidget=()=>{if(this.props.communityFlairSortedKeys&&this.props.communityFlairSortedKeys.length)return{...this.getPostFlairWidget(),id:"post-flair-widget",kind:"post-flair",order:this.props.communityFlairSortedKeys,display:lt.d.Cloud,shortName:n.fbt._("Filter by flair",null,{hk:"1DI34"}),templates:this.props.communityFlairModels}},this.state={isMounted:!1}}componentDidMount(){this.setState({isMounted:!0})}shouldComponentUpdate(e){const{communityFlairSortedKeys:t}=this.props,s=(t&&t.length)!==(e.communityFlairSortedKeys&&e.communityFlairSortedKeys.length);return this.props.subredditName!==e.subredditName||!i()(this.props.widgets,e.widgets)||s}render(){const{className:e,isPredictionsLeaderboardsEnabled:t,listingName:s,showGovernance:n,showLeaderboard:r,showPredictionsLeaderboard:i,subredditId:a,subredditName:d,topPostsVariant:c}=this.props;let u=0;const g=Object(L.a)(c),f=Object(L.b)(c),O=Object(L.c)(c),j=g||f;let S,w;!!this.getPostFlairWidget()?S=this.props.widgets:(S=this.getCommunityWidgets(),w=this.makeFlairFilterWidget());const T=this.makeRelatedCommunitiesWidget(g,f),P=!g,I=f,N=o.a.createElement(C.a,{placement:l.c.ABOVE_THE_FOLD,listingName:s,placementIndex:u++,position:ct.a.FIRST,sizes:l.h});return o.a.createElement(gt,{className:e},E(s)&&o.a.createElement(x.a,{listingName:s}),o.a.createElement(p.a,{cardClassName:bt.a.card,subredditId:a}),o.a.createElement(_.a,{subredditId:a}),t&&i&&o.a.createElement(m.a,{subredditId:a}),j&&o.a.createElement(v.a,null,o.a.createElement(ye,{subredditName:d,topPostsVariant:c},o.a.createElement("div",{className:bt.a.inFeedAd},N))),j&&T&&o.a.createElement(v.a,null,o.a.createElement(ot.a,{subredditName:d,truncateThreshold:xt,widget:T})),I&&S.map((e,t)=>{if("moderators"!==e.kind&&"subreddit-rules"!==e.kind&&"community-list"!==e.kind)return o.a.createElement(v.a,{key:`widgetSpacer${t}`},o.a.createElement(ot.a,{subredditName:d,truncateThreshold:ht,widget:e}))}),o.a.createElement(Xe,{subredditId:a,subredditName:d}),n&&o.a.createElement(b.a,{className:bt.a.card,subredditId:a}),w&&o.a.createElement(v.a,null,o.a.createElement(ot.a,{subredditName:d,widget:w})),r&&o.a.createElement(h.a,{className:bt.a.card,subredditId:a,uniqueId:a}),o.a.createElement(y.g,{subredditId:a}),!j&&N,o.a.createElement(at,{subredditId:a}),P&&!I&&S.map((e,t)=>{const s="community-list"===e.kind;return o.a.createElement(v.a,{key:`widgetSpacer${t}`},o.a.createElement(ot.a,{subredditName:d,truncateThreshold:O&&s?xt:O?ht:void 0,widget:e}))}),o.a.createElement(k.a,{adComponent:o.a.createElement(C.a,{placement:l.c.BELOW_THE_FOLD,listingName:s,placementIndex:u++,position:ct.a.BOTTOM,sizes:l.n})}))}}t.a=Et(yt)},"./src/reddit/components/TopPostsWidgets/TopWeekPosts/index.m.less":function(e,t,s){e.exports={smallPost:"_2yeUqQdjZPSDOFi2YOZwg4"}},"./src/reddit/components/Widgets/Base/index.m.less":function(e,t,s){e.exports={WidgetBackground:"_3Im6OD67aKo33nql4FpSp_",widgetBackground:"_3Im6OD67aKo33nql4FpSp_",WidgetHeader:"lnK0-OzG7nLFydTWuXGcY",widgetHeader:"lnK0-OzG7nLFydTWuXGcY"}},"./src/reddit/components/Widgets/Base/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/lib/lessComponent.tsx"),a=s("./src/reddit/components/SEOTitle/index.tsx"),o=s("./src/reddit/components/Widgets/Base/index.m.less"),d=s.n(o);const c=i.a.div("WidgetBackground",d.a),l=i.a.wrapped(({children:e,...t})=>r.a.createElement("div",t,r.a.createElement(a.b,{type:a.a.Widget},e)),"WidgetHeader",d.a);t.b=e=>r.a.createElement("div",{className:e.className},r.a.createElement(c,null,e.children))},"./src/reddit/components/Widgets/CommunityList/SubredditList.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return j})),s.d(t,"a",(function(){return w}));var n=s("./node_modules/fbt/lib/FbtPublic.js"),r=s("./node_modules/react/index.js"),i=s.n(r),a=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/react-router-dom/esm/react-router-dom.js"),d=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),l=s("./src/reddit/components/Flair/index.tsx"),u=s("./src/reddit/components/SubscribeButton/index.tsx"),m=s("./src/reddit/actions/subscription/index.ts");var p=Object(a.b)(null,(e,t)=>{const s=t.widget.id||void 0;return{onSubscribe:()=>e(m.d([t.identifier],!0,s)),onSubscriptionsRequested:()=>e(m.e()),onUnsubscribe:()=>e(m.d([t.identifier],!1,s))}})(s("./src/reddit/components/SubscribeButton/Base.tsx").a),b=s("./src/reddit/components/Widgets/ThemedWidget/index.tsx"),h=s("./src/reddit/constants/componentSizes.ts"),x=s("./src/reddit/controls/Button/index.tsx"),g=s("./src/reddit/controls/LoadingIcon/index.tsx"),f=s("./src/reddit/icons/svgs/CircledPlanet/index.tsx"),E=s("./src/reddit/layout/threeCol/ExpandCenter/index.tsx"),y=s("./src/reddit/models/Flair/index.ts"),_=s("./src/reddit/selectors/user.ts"),C=s("./src/reddit/components/Widgets/CommunityList/helpers.ts"),O=s("./src/reddit/components/Widgets/CommunityList/index.m.less"),v=s.n(O);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}const j=e=>i.a.createElement(b.a,{className:Object(c.a)(v.a.Container,e.className),noGradient:!0,styles:e.widget&&e.widget.styles,title:e.title,truncateThreshold:e.truncateThreshold,widgetKind:e.widget&&e.widget.kind},i.a.createElement("div",{className:v.a.container},e.isLoading?i.a.createElement(g.a,{className:v.a.loadingIcon,sizePx:32}):i.a.createElement(i.a.Fragment,null,e.isError?i.a.createElement("p",{className:v.a.errorMsg},e.errorMsg||n.fbt._("Something went wrong.",null,{hk:"pHwDP"})):i.a.createElement(i.a.Fragment,null,e.communities.map(t=>i.a.createElement(w,k({key:t.name},t,{getSubscribeEventFactory:e.getSubscribeEventFactoryHandler?e.getSubscribeEventFactoryHandler(t):void 0,widget:e.widget,sendEvent:e.sendEvent,type:t.type||"subreddit",buttonDisabled:e.itemButtonDisabled,isLoading:e.loadingItemName&&e.loadingItemName.toLowerCase()===t.name.toLowerCase()||!1,isNSFW:t.isNSFW,onCommunityNameClick:e.getClickEventFactory?()=>e.sendEvent(e.getClickEventFactory(t)):void 0,tertiaryButtonText:e.tertiaryButtonText,useTertiaryButton:e.useTertiaryButton,showTertiaryButtonOnHover:e.showTertiaryButtonOnHover,onTertiaryButtonClick:e.onTertiaryButtonClick})))),e.bottomButtonText&&e.onBottomButtonClick&&i.a.createElement(x.o,{className:v.a.bottomButton,onClick:e.onBottomButtonClick},e.bottomButtonText)))),S=Object(d.c)({hideNSFWPref:_.B}),w=Object(a.b)(S)(e=>i.a.createElement("div",{className:v.a.communityItemContainer},i.a.createElement(E.a,{widthRight:h.t},i.a.createElement("div",{className:v.a.iconContainer},e.communityIcon||e.iconUrl?i.a.createElement("img",{className:v.a.subredditIcon,src:e.iconUrl||e.communityIcon}):i.a.createElement(f.a,{className:v.a.planetIcon,"data-redditstyle":!0})),i.a.createElement("div",{className:v.a.communityDescriptionContainer},i.a.createElement(o.a,{className:v.a.communityName,onClick:e.onCommunityNameClick,title:Object(C.b)(e.name,e.type),to:Object(C.a)(e.name,e.type)},Object(C.b)(e.name,e.type)),i.a.createElement("div",{className:v.a.communityInfoContainer},!!e.subscribers&&i.a.createElement("p",{className:v.a.subscriberCount},n.fbt._({"*":"{number} members",_1:"1 member"},[n.fbt._plural(e.subscribers,"number")],{hk:"6i1wh"})),e.isNSFW&&i.a.createElement(l.b,{flair:{type:y.f.Nsfw,text:"nsfw"}}))),e.useTertiaryButton&&e.tertiaryButtonText&&e.onTertiaryButtonClick?e.isLoading?i.a.createElement(g.a,{className:Object(c.a)(v.a.communityCta,v.a.smallLoadingIcon),sizePx:12}):i.a.createElement(x.o,{className:Object(c.a)(v.a.communityCta,{[v.a.showOnHover]:e.showTertiaryButtonOnHover}),disabled:e.buttonDisabled,onClick:()=>e.onTertiaryButtonClick(e)},e.tertiaryButtonText):e.widget?i.a.createElement(p,{disabled:e.buttonDisabled,getEventFactory:e.getSubscribeEventFactory,identifier:{name:e.name,type:e.type},sendEvent:e.sendEvent,small:!0,userIsSubscriber:!!e.isSubscribed,widget:e.widget}):i.a.createElement(u.a,{disabled:e.buttonDisabled,getEventFactory:e.getSubscribeEventFactory,identifier:{name:e.name,type:e.type},small:!0})),!!e.description&&i.a.createElement("p",{title:e.description,className:v.a.communityDescription},e.description)))},"./src/reddit/components/Widgets/CommunityList/helpers.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return a}));var n=s("./src/reddit/constants/posts.ts"),r=s("./src/reddit/helpers/name/index.ts");function i(e,t){return(t===n.a.PROFILE?"/user/":"/r/")+e+"/"}function a(e,t){return t===n.a.PROFILE?Object(r.d)(e):Object(r.c)(e)}},"./src/reddit/components/Widgets/CommunityList/index.m.less":function(e,t,s){e.exports={communityItemContainer:"_3NFddqqrzfM8noBES52Qcy",communityCta:"_1edkK552-3m7bXOdDxtLx_",smallLoadingIcon:"_32ZA09sNmrGEXkOPMOCLst",showOnHover:"_1kul3JsqY5kjVe9kzGy4bV",communityDescription:"_2IANzA2n-6eA5T8Tz0TEVE",communityName:"_3BFvyrImF3et_ZF21Xd8SC",container:"_3-1jy8hD77zNJUdEMxDrXC",isTruncated:"_3idiZ5DFVkbhhKjDBTQeq-",iconContainer:"_19EKcu4yel161081OGs8w9",iconStyles:"_9p_iPxnOh7HnkcLhtSCDs",planetIcon:"_3GFjQrq7t7DpW__ZFpU7xf",secondaryLinkButton:"_1Yi_hbFvk7YS9Op3tGVQq9",subredditIcon:"_2BR7Oy0CAj5EiSDYQ--CAE",subscriberCount:"e0X82913OdCTkFf2HU-WL",textArea:"_3X2QmclgxJpDGOG7vui_8z",textButton:"_3k6fSIkIt6-LCDmLz7Didp",trashIcon:"_3T0iddL64wHJU4Ri4QU80I",loadingIcon:"_1S__kHcDfbOdA2sCV8sn9U",errorMsg:"_2AlaL9JsHLdMUnGFOPta5H",bottomButton:"_1aWHRawTuRl2HMpanJbrrb",leftAligned:"T4XQNeAXcz6U72tv0Z5Z6"}},"./src/reddit/components/Widgets/ModeratorOnboarding/index.m.less":function(e,t,s){e.exports={link:"_2e42jHFUxTCKhK9ZV7rkYM",unchecked:"KghweVAiFiX0RI_syl89Q",checked:"g4y6sLtk5FcL7BGU4ySVF",checkedFadeIn:"_3iW8CR-_Svhfa-LJLVcw2F",subtext:"_1STduBQ65V-3ECZ3WRoEKV",section:"_23svPjrTufAABoINCKRN_7",container:"_2YGvHlE11080fRAzC4onab",button:"_2F46jVXxeuK0SKM9TO-8pY",closeIcon:"_3mATOvmc_Q9pFcfcBXjFol",description:"_3js_prVH0h73q85Oa9P7lN"}},"./src/reddit/connectors/miniCardPost.ts":function(e,t,s){"use strict";var n=s("./node_modules/react-redux/es/index.js"),r=s("./node_modules/reselect/es/index.js"),i=s("./src/reddit/actions/post.ts"),a=s("./src/reddit/actions/postFlair.ts"),o=s("./src/reddit/actions/tooltip.ts"),d=s("./src/reddit/models/Vote/index.ts"),c=s("./src/reddit/contexts/PageLayer/index.tsx"),l=s("./src/reddit/selectors/activeModalId.ts"),u=s("./src/reddit/selectors/moderatorPermissions.ts"),m=s("./src/reddit/selectors/postFlair.ts"),p=s("./src/reddit/selectors/posts.ts"),b=s("./src/reddit/selectors/user.ts");const h=Object(n.b)(()=>Object(r.c)({activeModalId:l.a,autoplayPref:b.b,crosspostRoot:p.d,crosspostSubredditOrProfile:p.e,currentUser:b.i,flairStyleTemplate:c.R,hideNSFWPref:b.B,isActive:p.j,moderatorPermissions:u.h,modModeEnabled:c.P,post:p.O,showEditFlair:m.a,subredditOrProfile:p.bb,userIsOp:b.mb}),(e,{postId:t})=>({dispatchFlairChanged:({post:t,previewFlair:s,selectedTemplateId:n})=>e(Object(a.h)({post:t,previewFlair:s,selectedTemplateId:n})),handleVote:s=>{const n=s===d.a.upvoted?Object(i.U)(t):Object(i.r)(t);e(n)},onIgnoreReports:()=>e(Object(i.S)(t)),onOpenReportsDropdown:t=>e(Object(o.h)({tooltipId:t}))}),(e,t,s)=>({...s,...e,...t,onFlairChanged:({previewFlair:s,selectedTemplateId:n})=>t.dispatchFlairChanged({post:e.post,previewFlair:s,selectedTemplateId:n})}),{forwardRef:!0});t.a=h},"./src/reddit/helpers/richTextJson/index.ts":function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"e",(function(){return o})),s.d(t,"a",(function(){return d})),s.d(t,"d",(function(){return c})),s.d(t,"c",(function(){return u}));s("./node_modules/core-js/modules/web.dom.iterable.js");var n=s("./src/reddit/models/RichTextJson/index.ts");const r="giphy|",i="|downsized";function a(e,t){return r+e+(t?i:"")}function o(e){return e&&0===e.indexOf(r)}function d(e){const t=e&&e.media&&e.media.mediaMetadata;return!!t&&Object.keys(t).some(o)}function c(e){let t=e.substring(r.length);return t.indexOf("|")&&(t=t.split("|")[0]),`https://giphy.com/gifs/${t}`}function l(e){return"object"==typeof e&&null!==e&&!!e.e}function u(e){const t=e=>{let s=[];const r=e.c&&Array.isArray(e.c)?e.c:[];for(const n of r)l(n)&&(s=[...s,...t(n)]);return n.F(e)&&s.push(e.id),s};return e.reduce((e,s)=>[...e,...t(s)],[])}},"./src/reddit/helpers/trackers/modOnboarding.ts":function(e,t,s){"use strict";s.d(t,"c",(function(){return n})),s.d(t,"b",(function(){return r})),s.d(t,"a",(function(){return i})),s.d(t,"d",(function(){return a})),s.d(t,"e",(function(){return o}));const n=()=>e=>({source:"mod_edu",action:"view",noun:"banner_post"}),r=()=>e=>({source:"mod_edu_banner",action:"click",noun:"close"}),i=()=>e=>({source:"mod_edu",action:"click",noun:"create_post_link"}),a=e=>t=>({source:"mod_edu_widget",action:"click",noun:e}),o=e=>e=>({source:"mod_edu",action:"view",noun:"widget"})},"./src/reddit/helpers/trackers/powerups.ts":function(e,t,s){"use strict";s.d(t,"f",(function(){return a})),s.d(t,"e",(function(){return o})),s.d(t,"d",(function(){return d})),s.d(t,"c",(function(){return c})),s.d(t,"a",(function(){return l})),s.d(t,"b",(function(){return u}));var n=s("./src/reddit/helpers/correlationIdTracker.ts"),r=s("./src/reddit/selectors/telemetry.ts");const i=(e,t,s)=>({...r.defaults(e),correlationId:Object(n.d)(n.a.PowerupsFlow,!1),profile:r.profile(e),subreddit:r.subreddit(e),powerups:{...r.subredditPowerups(e),freeCount:t,paidCount:s}}),a=e=>t=>({source:e,action:"click",noun:"powerups_user_badge",...i(t),correlationId:Object(n.d)(n.a.PowerupsFlow,!0)}),o=()=>e=>({source:"postlist",action:"click",noun:"powerups_supporters_cta",...i(e),correlationId:Object(n.d)(n.a.PowerupsFlow,!0)}),d=()=>e=>({source:"powerups",action:"view",noun:"post_upsell",...i(e),correlationId:Object(n.d)(n.a.PowerupsFlow,!0)}),c=()=>e=>({source:"powerups",action:"click",noun:"post_upsell",...i(e),correlationId:Object(n.d)(n.a.PowerupsFlow,!0)}),l=(e,t)=>s=>({source:"powerups_modal",action:"click",noun:"benefit",...i(s,e,t)}),u=(e,t)=>s=>({source:"powerups_modal",action:"view",noun:"purchase_step",...i(s,e,t)})},"./src/reddit/helpers/trackers/subredditMentions.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return f})),s.d(t,"f",(function(){return E})),s.d(t,"g",(function(){return y})),s.d(t,"b",(function(){return _})),s.d(t,"c",(function(){return C})),s.d(t,"d",(function(){return O})),s.d(t,"e",(function(){return v}));var n,r,i=s("./src/reddit/constants/tracking.ts"),a=s("./src/reddit/contexts/PageLayer/index.tsx"),o=s("./src/reddit/helpers/isComment.ts"),d=s("./src/reddit/helpers/isPost.ts"),c=s("./src/reddit/models/DiscoveryUnit/index.ts"),l=s("./src/reddit/selectors/subreddit.ts"),u=s("./src/reddit/selectors/telemetry.ts"),m=s("./src/telemetry/models/Outbound.ts");!function(e){e.INTERNAL_LINK="internal_link",e.SUBREDDIT_HOVERCARD="subreddit_mentions_hovercard",e.HEADER_SUBREDDIT="header_subreddit",e.HEADER_SUBREDDIT_SUBSCRIBE="header_subreddit_subscribe",e.HEADER_SUBREDDIT_UNSUBSCRIBE="header_subreddit_unsubscribe",e.ITEM_POST="item_post"}(n||(n={})),function(e){e.LINK="link",e.DISCOVERY_UNIT="discovery_unit"}(r||(r={}));const p=e=>({...u.defaults(e),source:r.LINK,action:i.c.CLICK,noun:n.INTERNAL_LINK}),b=e=>({...u.defaults(e),source:r,screen:u.screen(e),discoveryUnit:{id:"xd_100",name:n.SUBREDDIT_HOVERCARD,type:c.f.Listing,title:n.SUBREDDIT_HOVERCARD}}),h=(e,{renderingObjectInfo:t,pageLayer:s})=>{if(t&&(Object(o.b)(t)||Object(d.b)(t)))return Object(o.b)(t)?m.SourceElement.Comment:Object(a.w)(s)?m.SourceElement.PostDetail:Object(a.E)(s)?m.SourceElement.ListingPostDetail:void 0},x=(e,t)=>{const{renderingObjectInfo:s,subredditName:n}=t;if(!s||!Object(d.b)(s)&&!Object(o.b)(s))return{outbound:void 0};const r=Object(d.b)(s)?"postId":"commentId",i={url:`/r/${n}/`,sourceElement:h(0,t),subredditName:n,[r]:s.id},a=Object(l.A)(e,{subredditName:n});return a?{outbound:{...i,url:a.url,subredditId:a.id}}:{outbound:{...i}}},g=(e,t)=>{const{renderingObjectInfo:s}=t;if(!s||!Object(d.b)(s)&&!Object(o.b)(s))return{};const n=Object(d.b)(s)?s.belongsTo.id:s.subredditId;return{post:u.post(e,s.id),subreddit:u.subredditById(e,n),...x(e,t)}},f=e=>t=>({...p(t),...g(t,e)}),E=e=>t=>({...b(t),source:"global",action:i.c.VIEW,noun:n.SUBREDDIT_HOVERCARD,subreddit:u.subredditByName(t,e),screen:u.screen(t)}),y=(e,t)=>s=>({...b(s),source:r.DISCOVERY_UNIT,action:i.c.VIEW,noun:n.ITEM_POST,post:u.post(s,t),subreddit:u.subredditByName(s,e),screen:u.screen(s)}),_=(e,t)=>s=>({...b(s),source:r.DISCOVERY_UNIT,action:i.c.CLICK,noun:n.ITEM_POST,post:u.post(s,t),subreddit:u.subredditByName(s,e),screen:u.screen(s)}),C=e=>t=>({...b(t),subreddit:u.subredditById(t,e)||null,source:r.DISCOVERY_UNIT,action:i.c.CLICK,noun:n.HEADER_SUBREDDIT}),O=e=>t=>({...b(t),subreddit:u.subredditById(t,e)||null,source:r.DISCOVERY_UNIT,action:i.c.CLICK,noun:n.HEADER_SUBREDDIT_SUBSCRIBE}),v=e=>t=>({...b(t),subreddit:u.subredditById(t,e)||null,source:r.DISCOVERY_UNIT,action:i.c.CLICK,noun:n.HEADER_SUBREDDIT_UNSUBSCRIBE})},"./src/reddit/icons/fonts/Envelope/index.m.less":function(e,t,s){e.exports={Envelope:"gsQG-L1wCCIUe8dJEOA6C",envelope:"gsQG-L1wCCIUe8dJEOA6C"}},"./src/reddit/icons/fonts/Envelope/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/reddit/icons/fonts/helpers.tsx"),a=s("./src/reddit/icons/fonts/Envelope/index.m.less"),o=s.n(a);t.a=e=>r.a.createElement("i",{className:`${Object(i.b)("envelope")} ${o.a.Envelope} ${e.className}`})},"./src/reddit/icons/svgs/CircleCheck/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n);t.a=e=>r.a.createElement("svg",{className:e.className,viewBox:"0 0 21 21",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M20.5 10.5C20.5 16.0228 16.0228 20.5 10.5 20.5C4.97715 20.5 0.5 16.0228 0.5 10.5C0.5 4.97715 4.97715 0.5 10.5 0.5C16.0228 0.5 20.5 4.97715 20.5 10.5ZM9.35975 14.8725L15.2398 8.71852L15.2418 8.72352C15.5868 8.36252 15.5868 7.77752 15.2418 7.41752C14.8968 7.05752 14.3388 7.05752 13.9938 7.41752L8.73675 12.9175L7.00675 11.1075C6.66175 10.7475 6.10375 10.7465 5.75875 11.1075C5.41375 11.4685 5.41375 12.0535 5.75875 12.4135L8.11175 14.8735C8.28475 15.0535 8.50975 15.1435 8.73675 15.1435C8.85356 15.143 8.96904 15.1187 9.07615 15.0721C9.18326 15.0256 9.27975 14.9576 9.35975 14.8725Z",fill:"inherit"}))},"./src/reddit/icons/svgs/Upload/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n);t.a=e=>r.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 17",version:"1.1"},r.a.createElement("path",{d:"M8.566 5.835l2.4 2.4a.8.8 0 0 1-1.132 1.131L8.8 8.332V13.6a.8.8 0 1 1-1.6 0V8.332L6.166 9.366a.8.8 0 0 1-1.132-1.131l2.4-2.4a.803.803 0 0 1 1.132 0zm3.091-2.292A3.547 3.547 0 0 1 15.2 7.085a.8.8 0 0 1-1.6 0 1.945 1.945 0 0 0-2.318-1.904.802.802 0 0 1-.869-.43A4.206 4.206 0 0 0 6.628 2.4 4.233 4.233 0 0 0 2.4 6.629a.8.8 0 0 1-1.6 0A5.835 5.835 0 0 1 6.628.799a5.788 5.788 0 0 1 4.941 2.745l.088-.001z",id:"a"}))},"./src/reddit/layout/threeCol/ExpandCenter/index.m.less":function(e,t,s){e.exports={leftAndRight:"_3P6gMBKOhtWWrytWm-8hc",center:"CEs01bewsmQQV7LRLaHib",expandedCenterContainer:"_2FZY7HXlkf-PdemHbQoAEt"}},"./src/reddit/layout/threeCol/ExpandCenter/index.tsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),r=s.n(n),i=s("./src/higherOrderComponents/warnOnChildrenCount/index.tsx"),a=s("./src/lib/classNames/index.ts"),o=s("./src/reddit/layout/threeCol/ExpandCenter/index.m.less"),d=s.n(o);t.a=Object(i.a)(e=>r.a.createElement("div",{className:Object(a.a)(d.a.expandedCenterContainer,e.className)},r.a.createElement("div",{className:d.a.leftAndRight,style:{flexBasis:e.widthLeft}},Array.isArray(e.children)&&e.children[0]),r.a.createElement("div",{className:d.a.center},Array.isArray(e.children)&&e.children[1]),r.a.createElement("div",{className:d.a.leftAndRight,style:{flexBasis:e.widthRight}},Array.isArray(e.children)&&e.children[2])),3)},"./src/reddit/models/Product/index.ts":function(e,t,s){"use strict";var n;function r(e){return e.substring(e.lastIndexOf("|")+1)}s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return r})),function(e){e.Badge="badge",e.EmotesPack="emotes_pack",e.Giphy="giphy",e.Membership="membership"}(n||(n={}))},"./src/reddit/selectors/experiments/downToChat.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s("./src/reddit/constants/experiments.ts"),r=s("./src/reddit/helpers/chooseVariant/index.ts"),i=s("./src/reddit/selectors/user.ts");const a=e=>n.fb.Enabled===Object(r.c)(e,{experimentEligibilitySelector:i.J,experimentName:n.cb})},"./src/reddit/selectors/subredditMention.ts":function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return d})),s.d(t,"e",(function(){return c})),s.d(t,"c",(function(){return l})),s.d(t,"d",(function(){return u})),s.d(t,"f",(function(){return m}));var n=s("./src/reddit/constants/experiments.ts"),r=s("./src/reddit/featureFlags/index.ts"),i=s("./src/reddit/helpers/chooseVariant/index.ts"),a=s("./src/reddit/selectors/subreddit.ts");const o=e=>r.d.subredditMentionD2xExperiment(e),d=e=>{return Object(i.c)(e,{experimentEligibilitySelector:o,experimentName:n.Lc})||""},c=e=>{const t=d(e);return t===n.Pc.SmIcon||t===n.Pc.SmIconHc},l=(e,{subredditName:t})=>{return!!e.subreddits.api.models.pending[t]},u=(e,{subredditName:t})=>{return!!e.subreddits.api.models.error[t]},m=(e,{subredditName:t})=>{const s=Object(a.W)(e,{subredditName:t});return(s&&s.postIds||[]).slice(0,2)}}}]);
//# sourceMappingURL=https://www.redditstatic.com/desktop2x/Subreddit~SubredditWiki.e331442b534823b4df8c.js.map